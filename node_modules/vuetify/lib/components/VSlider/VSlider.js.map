{"version":3,"file":"VSlider.js","names":["VSliderThumb","VSliderTrack","makeVInputProps","VInput","VLabel","makeSliderProps","useSlider","useSteps","makeFocusProps","useFocus","forwardRefs","useRtl","useProxiedModel","computed","ref","filterInputAttrs","genericComponent","propsFactory","useRender","makeVSliderProps","modelValue","type","Number","String","default","VSlider","name","inheritAttrs","props","emits","value","v","start","end","setup","_ref","slots","emit","attrs","thumbContainerRef","inputRef","rtlClasses","steps","model","undefined","roundValue","min","max","mousePressed","onSliderMousedown","onSliderTouchstart","trackContainerRef","position","hasLabels","disabled","readonly","noKeyboard","onSliderStart","onSliderEnd","_ref2","roundedValue","onSliderMove","_ref3","getActiveThumb","$el","isFocused","focus","blur","trackStop","inputProps","filterProps","rootAttrs","inputAttrs","hasPrepend","label","prepend","_createVNode","_mergeProps","class","style","slotProps","_createElementVNode","_Fragment","id","_ref4","messagesId","elevation","ripple"],"sources":["../../../src/components/VSlider/VSlider.tsx"],"sourcesContent":["// Styles\nimport './VSlider.sass'\n\n// Components\nimport { VSliderThumb } from './VSliderThumb'\nimport { VSliderTrack } from './VSliderTrack'\nimport { makeVInputProps, VInput } from '@/components/VInput/VInput'\nimport { VLabel } from '@/components/VLabel'\n\n// Composables\nimport { makeSliderProps, useSlider, useSteps } from './slider'\nimport { makeFocusProps, useFocus } from '@/composables/focus'\nimport { forwardRefs } from '@/composables/forwardRefs'\nimport { useRtl } from '@/composables/locale'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { computed, ref } from 'vue'\nimport { filterInputAttrs, genericComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { VSliderThumbSlots } from './VSliderThumb'\nimport type { VSliderTrackSlots } from './VSliderTrack'\nimport type { VInputSlot, VInputSlots } from '@/components/VInput/VInput'\n\nexport type VSliderSlots = VInputSlots & VSliderThumbSlots & VSliderTrackSlots & {\n  label: VInputSlot\n}\n\nexport const makeVSliderProps = propsFactory({\n  ...makeFocusProps(),\n  ...makeSliderProps(),\n  ...makeVInputProps(),\n\n  modelValue: {\n    type: [Number, String],\n    default: 0,\n  },\n}, 'VSlider')\n\nexport const VSlider = genericComponent<VSliderSlots>()({\n  name: 'VSlider',\n\n  inheritAttrs: false,\n\n  props: makeVSliderProps(),\n\n  emits: {\n    'update:focused': (value: boolean) => true,\n    'update:modelValue': (v: number) => true,\n    start: (value: number) => true,\n    end: (value: number) => true,\n  },\n\n  setup (props, { slots, emit, attrs }) {\n    const thumbContainerRef = ref<VSliderThumb>()\n    const inputRef = ref<VInput>()\n    const { rtlClasses } = useRtl()\n\n    const steps = useSteps(props)\n\n    const model = useProxiedModel(\n      props,\n      'modelValue',\n      undefined,\n      value => {\n        return steps.roundValue(value == null ? steps.min.value : value)\n      },\n    )\n\n    const {\n      min,\n      max,\n      mousePressed,\n      roundValue,\n      onSliderMousedown,\n      onSliderTouchstart,\n      trackContainerRef,\n      position,\n      hasLabels,\n      disabled,\n      readonly,\n      noKeyboard,\n    } = useSlider({\n      props,\n      steps,\n      onSliderStart: () => {\n        if (!disabled.value && !readonly.value) {\n          emit('start', model.value)\n        }\n      },\n      onSliderEnd: ({ value }) => {\n        const roundedValue = roundValue(value)\n\n        if (!disabled.value && !readonly.value) {\n          model.value = roundedValue\n        }\n\n        emit('end', roundedValue)\n      },\n      onSliderMove: ({ value }) => {\n        if (!disabled.value && !readonly.value) {\n          model.value = roundValue(value)\n        }\n      },\n      getActiveThumb: () => thumbContainerRef.value?.$el,\n    })\n\n    const { isFocused, focus, blur } = useFocus(props)\n    const trackStop = computed(() => position(model.value))\n\n    useRender(() => {\n      const inputProps = VInput.filterProps(props)\n      const [rootAttrs, inputAttrs] = filterInputAttrs(attrs)\n      const hasPrepend = !!(props.label || slots.label || slots.prepend)\n\n      return (\n        <VInput\n          ref={ inputRef }\n          class={[\n            'v-slider',\n            {\n              'v-slider--has-labels': !!slots['tick-label'] || hasLabels.value,\n              'v-slider--focused': isFocused.value,\n              'v-slider--pressed': mousePressed.value,\n              'v-slider--disabled': disabled.value,\n            },\n            rtlClasses.value,\n            props.class,\n          ]}\n          style={ props.style }\n          { ...inputProps }\n          { ...rootAttrs }\n          focused={ isFocused.value }\n        >\n          {{\n            ...slots,\n            prepend: hasPrepend ? slotProps => (\n              <>\n                { slots.label?.(slotProps) ?? (\n                  props.label\n                    ? (\n                      <VLabel\n                        id={ slotProps.id.value }\n                        class=\"v-slider__label\"\n                        text={ props.label }\n                      />\n                    ) : undefined\n                )}\n\n                { slots.prepend?.(slotProps) }\n              </>\n            ) : undefined,\n            default: ({ id, messagesId }) => (\n              <div\n                class=\"v-slider__container\"\n                onMousedown={ !readonly.value ? onSliderMousedown : undefined }\n                onTouchstartPassive={ !readonly.value ? onSliderTouchstart : undefined }\n              >\n                <input\n                  id={ id.value }\n                  name={ props.name || id.value }\n                  disabled={ disabled.value }\n                  readonly={ readonly.value }\n                  tabindex=\"-1\"\n                  value={ model.value }\n                />\n\n                <VSliderTrack\n                  ref={ trackContainerRef }\n                  start={ 0 }\n                  stop={ trackStop.value }\n                >\n                  {{ 'tick-label': slots['tick-label'] }}\n                </VSliderTrack>\n\n                <VSliderThumb\n                  ref={ thumbContainerRef }\n                  aria-describedby={ messagesId.value }\n                  focused={ isFocused.value }\n                  noKeyboard={ noKeyboard.value }\n                  min={ min.value }\n                  max={ max.value }\n                  modelValue={ model.value }\n                  onUpdate:modelValue={ v => (model.value = v) }\n                  position={ trackStop.value }\n                  elevation={ props.elevation }\n                  onFocus={ focus }\n                  onBlur={ blur }\n                  ripple={ props.ripple }\n                  name={ props.name }\n                  { ...inputAttrs }\n                >\n                  {{ 'thumb-label': slots['thumb-label'] }}\n                </VSliderThumb>\n              </div>\n            ),\n          }}\n        </VInput>\n      )\n    })\n\n    return forwardRefs({\n      focus: () => thumbContainerRef.value?.$el.focus(),\n    }, inputRef)\n  },\n})\n\nexport type VSlider = InstanceType<typeof VSlider>\n"],"mappings":"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","ignoreList":[]}