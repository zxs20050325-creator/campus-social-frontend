{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createTextVNode as _createTextVNode, vShow as _vShow, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"font-weight-bold\"\n};\nconst _hoisted_2 = {\n  class: \"text-caption\"\n};\nconst _hoisted_3 = {\n  class: \"headline mb-2\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"mt-4\"\n};\nconst _hoisted_5 = {\n  class: \"ml-1\"\n};\nconst _hoisted_6 = {\n  class: \"ml-1\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_img = _resolveComponent(\"v-img\");\n  const _component_v_avatar = _resolveComponent(\"v-avatar\");\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_carousel_item = _resolveComponent(\"v-carousel-item\");\n  const _component_v_carousel = _resolveComponent(\"v-carousel\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_spacer = _resolveComponent(\"v-spacer\");\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\");\n  const _component_v_textarea = _resolveComponent(\"v-textarea\");\n  const _component_v_list_item_avatar = _resolveComponent(\"v-list-item-avatar\");\n  const _component_v_list_item_title = _resolveComponent(\"v-list-item-title\");\n  const _component_v_list_item_subtitle = _resolveComponent(\"v-list-item-subtitle\");\n  const _component_v_list_item_content = _resolveComponent(\"v-list-item-content\");\n  const _component_v_list_item_action = _resolveComponent(\"v-list-item-action\");\n  const _component_v_list_item = _resolveComponent(\"v-list-item\");\n  const _component_v_list = _resolveComponent(\"v-list\");\n  const _component_v_expand_transition = _resolveComponent(\"v-expand-transition\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  return _openBlock(), _createBlock(_component_v_card, {\n    class: \"mb-4\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_card_title, null, {\n      default: _withCtx(() => [_createVNode(_component_v_avatar, {\n        size: \"40\",\n        class: \"mr-3\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_img, {\n          src: $props.post.avatar || 'https://cdn.vuetifyjs.com/images/john.jpg',\n          alt: \"Author\"\n        }, null, 8 /* PROPS */, [\"src\"])]),\n        _: 1 /* STABLE */\n      }), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, _toDisplayString($props.post.author_name), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_2, _toDisplayString($options.formatDate($props.post.created_at)), 1 /* TEXT */)])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_card_text, null, {\n      default: _withCtx(() => [_createElementVNode(\"h3\", _hoisted_3, _toDisplayString($props.post.title), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString($props.post.content), 1 /* TEXT */), _createCommentVNode(\" 显示图片 \"), $props.post.image_urls && $props.post.image_urls.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createVNode(_component_v_carousel, {\n        height: \"300\",\n        \"hide-delimiters\": \"\"\n      }, {\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.post.image_urls.split(','), (image, index) => {\n          return _openBlock(), _createBlock(_component_v_carousel_item, {\n            key: index,\n            src: image.trim(),\n            cover: \"\"\n          }, null, 8 /* PROPS */, [\"src\"]);\n        }), 128 /* KEYED_FRAGMENT */))]),\n        _: 1 /* STABLE */\n      })])) : _createCommentVNode(\"v-if\", true)]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_card_actions, null, {\n      default: _withCtx(() => [_createVNode(_component_v_btn, {\n        variant: \"text\",\n        onClick: _cache[0] || (_cache[0] = $event => $options.toggleLike($props.post))\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_icon, {\n          color: $props.post.liked ? 'red' : ''\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString($props.post.liked ? 'mdi-heart' : 'mdi-heart-outline'), 1 /* TEXT */)]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"color\"]), _createElementVNode(\"span\", _hoisted_5, _toDisplayString($props.post.likes_count), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_btn, {\n        variant: \"text\",\n        onClick: $options.toggleComment\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_icon, null, {\n          default: _withCtx(() => [...(_cache[2] || (_cache[2] = [_createTextVNode(\"mdi-comment-outline\", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        }), _createElementVNode(\"span\", _hoisted_6, _toDisplayString($props.post.comments_count), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n        variant: \"text\",\n        onClick: $options.sharePost\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_icon, null, {\n          default: _withCtx(() => [...(_cache[3] || (_cache[3] = [_createTextVNode(\"mdi-share\", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    }), _createCommentVNode(\" 评论区域 \"), _createVNode(_component_v_expand_transition, null, {\n      default: _withCtx(() => [_withDirectives(_createVNode(_component_v_card_text, null, {\n        default: _withCtx(() => [_createVNode(_component_v_textarea, {\n          modelValue: $data.newComment,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.newComment = $event),\n          label: \"写下你的评论...\",\n          \"auto-grow\": \"\",\n          rows: \"1\",\n          variant: \"outlined\",\n          clearable: \"\"\n        }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_v_btn, {\n          class: \"mt-2\",\n          color: \"primary\",\n          onClick: $options.addComment,\n          disabled: !$data.newComment.trim()\n        }, {\n          default: _withCtx(() => [...(_cache[4] || (_cache[4] = [_createTextVNode(\" 发表评论 \", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"onClick\", \"disabled\"]), _createVNode(_component_v_list, {\n          class: \"mt-4\"\n        }, {\n          default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.post.comments || [], (comment, index) => {\n            return _openBlock(), _createBlock(_component_v_list_item, {\n              key: index,\n              class: \"mb-2\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_list_item_avatar, null, {\n                default: _withCtx(() => [_createVNode(_component_v_img, {\n                  src: comment.avatar || 'https://cdn.vuetifyjs.com/images/john.jpg',\n                  alt: \"Commenter\"\n                }, null, 8 /* PROPS */, [\"src\"])]),\n                _: 2 /* DYNAMIC */\n              }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_v_list_item_content, null, {\n                default: _withCtx(() => [_createVNode(_component_v_list_item_title, null, {\n                  default: _withCtx(() => [_createTextVNode(_toDisplayString(comment.author_name), 1 /* TEXT */)]),\n                  _: 2 /* DYNAMIC */\n                }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_v_list_item_subtitle, null, {\n                  default: _withCtx(() => [_createTextVNode(_toDisplayString(comment.content), 1 /* TEXT */)]),\n                  _: 2 /* DYNAMIC */\n                }, 1024 /* DYNAMIC_SLOTS */)]),\n                _: 2 /* DYNAMIC */\n              }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_v_list_item_action, null, {\n                default: _withCtx(() => [_createVNode(_component_v_btn, {\n                  icon: \"\",\n                  \"x-small\": \"\"\n                }, {\n                  default: _withCtx(() => [_createVNode(_component_v_icon, {\n                    color: \"grey lighten-1\"\n                  }, {\n                    default: _withCtx(() => [...(_cache[5] || (_cache[5] = [_createTextVNode(\"mdi-thumb-up-outline\", -1 /* CACHED */)]))]),\n                    _: 1 /* STABLE */\n                  })]),\n                  _: 1 /* STABLE */\n                })]),\n                _: 1 /* STABLE */\n              })]),\n              _: 2 /* DYNAMIC */\n            }, 1024 /* DYNAMIC_SLOTS */);\n          }), 128 /* KEYED_FRAGMENT */))]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }, 512 /* NEED_PATCH */), [[_vShow, $data.showComments]])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","_component_v_card","_createVNode","_component_v_card_title","_component_v_avatar","size","_component_v_img","src","$props","post","avatar","alt","_createElementVNode","_hoisted_1","_toDisplayString","author_name","_hoisted_2","$options","formatDate","created_at","_component_v_card_text","_hoisted_3","title","content","_createCommentVNode","image_urls","length","_createElementBlock","_hoisted_4","_component_v_carousel","height","_Fragment","_renderList","split","image","index","_component_v_carousel_item","key","trim","cover","_component_v_card_actions","_component_v_btn","variant","onClick","_cache","$event","toggleLike","_component_v_icon","color","liked","_hoisted_5","likes_count","toggleComment","_hoisted_6","comments_count","_component_v_spacer","sharePost","_component_v_expand_transition","_component_v_textarea","$data","newComment","label","rows","clearable","addComment","disabled","_component_v_list","comments","comment","_component_v_list_item","_component_v_list_item_avatar","_component_v_list_item_content","_component_v_list_item_title","_component_v_list_item_subtitle","_component_v_list_item_action","icon","showComments"],"sources":["C:\\Users\\xueru\\Desktop\\my-project\\frontend\\src\\components\\PostCard.vue"],"sourcesContent":["<template>\n  <v-card class=\"mb-4\">\n    <v-card-title>\n      <v-avatar size=\"40\" class=\"mr-3\">\n        <v-img :src=\"post.avatar || 'https://cdn.vuetifyjs.com/images/john.jpg'\" alt=\"Author\"></v-img>\n      </v-avatar>\n      <div>\n        <div class=\"font-weight-bold\">{{ post.author_name }}</div>\n        <div class=\"text-caption\">{{ formatDate(post.created_at) }}</div>\n      </div>\n    </v-card-title>\n\n    <v-card-text>\n      <h3 class=\"headline mb-2\">{{ post.title }}</h3>\n      <p>{{ post.content }}</p>\n      \n      <!-- 显示图片 -->\n      <div v-if=\"post.image_urls && post.image_urls.length > 0\" class=\"mt-4\">\n        <v-carousel height=\"300\" hide-delimiters>\n          <v-carousel-item\n            v-for=\"(image, index) in post.image_urls.split(',')\"\n            :key=\"index\"\n            :src=\"image.trim()\"\n            cover\n          ></v-carousel-item>\n        </v-carousel>\n      </div>\n    </v-card-text>\n\n    <v-card-actions>\n      <v-btn variant=\"text\" @click=\"toggleLike(post)\">\n        <v-icon :color=\"post.liked ? 'red' : ''\">\n          {{ post.liked ? 'mdi-heart' : 'mdi-heart-outline' }}\n        </v-icon>\n        <span class=\"ml-1\">{{ post.likes_count }}</span>\n      </v-btn>\n      \n      <v-btn variant=\"text\" @click=\"toggleComment\">\n        <v-icon>mdi-comment-outline</v-icon>\n        <span class=\"ml-1\">{{ post.comments_count }}</span>\n      </v-btn>\n      \n      <v-spacer></v-spacer>\n      \n      <v-btn variant=\"text\" @click=\"sharePost\">\n        <v-icon>mdi-share</v-icon>\n      </v-btn>\n    </v-card-actions>\n    \n    <!-- 评论区域 -->\n    <v-expand-transition>\n      <v-card-text v-show=\"showComments\">\n        <v-textarea\n          v-model=\"newComment\"\n          label=\"写下你的评论...\"\n          auto-grow\n          rows=\"1\"\n          variant=\"outlined\"\n          clearable\n        ></v-textarea>\n        <v-btn \n          class=\"mt-2\" \n          color=\"primary\" \n          @click=\"addComment\"\n          :disabled=\"!newComment.trim()\"\n        >\n          发表评论\n        </v-btn>\n        \n        <v-list class=\"mt-4\">\n          <v-list-item\n            v-for=\"(comment, index) in post.comments || []\"\n            :key=\"index\"\n            class=\"mb-2\"\n          >\n            <v-list-item-avatar>\n              <v-img :src=\"comment.avatar || 'https://cdn.vuetifyjs.com/images/john.jpg'\" alt=\"Commenter\"></v-img>\n            </v-list-item-avatar>\n            \n            <v-list-item-content>\n              <v-list-item-title>{{ comment.author_name }}</v-list-item-title>\n              <v-list-item-subtitle>{{ comment.content }}</v-list-item-subtitle>\n            </v-list-item-content>\n            \n            <v-list-item-action>\n              <v-btn icon x-small>\n                <v-icon color=\"grey lighten-1\">mdi-thumb-up-outline</v-icon>\n              </v-btn>\n            </v-list-item-action>\n          </v-list-item>\n        </v-list>\n      </v-card-text>\n    </v-expand-transition>\n  </v-card>\n</template>\n\n<script>\nexport default {\n  name: 'PostCard',\n  props: {\n    post: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      showComments: false,\n      newComment: ''\n    };\n  },\n  methods: {\n    formatDate(dateString) {\n      const date = new Date(dateString);\n      return date.toLocaleString();\n    },\n    toggleLike(post) {\n      post.liked = !post.liked;\n      post.likes_count += post.liked ? 1 : -1;\n    },\n    toggleComment() {\n      this.showComments = !this.showComments;\n    },\n    addComment() {\n      if (!this.newComment.trim()) return;\n      \n      // 这里应该调用API添加评论\n      const comment = {\n        id: Date.now(),\n        author_name: '当前用户',\n        content: this.newComment,\n        avatar: 'https://cdn.vuetifyjs.com/images/john.jpg'\n      };\n      \n      if (!this.post.comments) {\n        this.post.comments = [];\n      }\n      \n      this.post.comments.push(comment);\n      this.post.comments_count += 1;\n      this.newComment = '';\n    },\n    sharePost() {\n      // 分享功能\n      console.log('分享帖子:', this.post.id);\n    }\n  }\n};\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}