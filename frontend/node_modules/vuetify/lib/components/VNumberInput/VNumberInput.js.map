{"version":3,"file":"VNumberInput.js","names":["VBtn","VDefaultsProvider","VDivider","makeVTextFieldProps","VTextField","useHold","useForm","forwardRefs","useLocale","useProxiedModel","computed","nextTick","onMounted","ref","shallowRef","toRef","watch","clamp","escapeForRegex","extractNumber","genericComponent","omit","propsFactory","useRender","makeVNumberInputProps","controlVariant","type","String","default","inset","Boolean","hideInput","modelValue","Number","min","MIN_SAFE_INTEGER","max","MAX_SAFE_INTEGER","step","precision","minFractionDigits","decimalSeparator","validator","v","length","VNumberInput","name","props","emits","val","setup","_ref","slots","vTextFieldRef","holdStart","holdStop","toggleUpDown","form","controlsDisabled","isDisabled","value","isReadonly","isFocused","focused","decimalSeparatorFromLocale","correctPrecision","arguments","undefined","trim","fixed","toFixed","toString","replace","baseDigits","fractionDigits","split","padEnd","RegExp","filter","join","model","_inputText","_lastParsedValue","isNaN","immediate","inputText","get","set","parsedValue","isOutOfRange","numberFromText","canIncrease","canDecrease","incrementIcon","decrementIcon","controlNodeSize","controlNodeDefaultHeight","incrementSlotProps","onClick","onControlClick","onPointerup","onControlMouseup","onPointerdown","onUpControlMousedown","onPointercancel","decrementSlotProps","onDownControlMousedown","formatInputValue","clampModel","inferPrecision","str","idx","indexOf","increment","inferredPrecision","Math","onBeforeinput","e","data","inputElement","target","existingTxt","selectionStart","selectionEnd","potentialNewInputVal","slice","potentialNewNumber","test","preventDefault","cursorPosition","setSelectionRange","endsWith","onKeydown","includes","key","ctrlKey","stopPropagation","el","currentTarget","releasePointerCapture","pointerId","setPointerCapture","actualText","trimDecimalZeros","onFocus","onBlur","_","textFieldProps","filterProps","incrementControlNode","_createVNode","disabled","height","size","icon","variant","decrementControlNode","decrement","controlNode","_createElementVNode","dividerNode","appendInnerControl","reverse","_Fragment","hasAppendInner","prependInnerControl","hasPrependInner","_mergeProps","$event","error","class","style","_len","args","Array","_key","_len2","_key2"],"sources":["../../../src/components/VNumberInput/VNumberInput.tsx"],"sourcesContent":["// Styles\nimport './VNumberInput.sass'\n\n// Components\nimport { VBtn } from '@/components/VBtn'\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { VDivider } from '@/components/VDivider'\nimport { makeVTextFieldProps, VTextField } from '@/components/VTextField/VTextField'\n\n// Composables\nimport { useHold } from './hold'\nimport { useForm } from '@/composables/form'\nimport { forwardRefs } from '@/composables/forwardRefs'\nimport { useLocale } from '@/composables/locale'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { computed, nextTick, onMounted, ref, shallowRef, toRef, watch } from 'vue'\nimport { clamp, escapeForRegex, extractNumber, genericComponent, omit, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { VTextFieldSlots } from '@/components/VTextField/VTextField'\n\ntype ControlSlot = {\n  props: Record<string, unknown>\n}\n\ntype VNumberInputSlots = Omit<VTextFieldSlots, 'default'> & {\n  increment: ControlSlot\n  decrement: ControlSlot\n}\n\ntype ControlVariant = 'default' | 'stacked' | 'split' | 'hidden'\n\nconst makeVNumberInputProps = propsFactory({\n  controlVariant: {\n    type: String as PropType<ControlVariant>,\n    default: 'default',\n  },\n  inset: Boolean,\n  hideInput: Boolean,\n  modelValue: {\n    type: Number as PropType<number | null>,\n    default: null,\n  },\n  min: {\n    type: Number,\n    default: Number.MIN_SAFE_INTEGER,\n  },\n  max: {\n    type: Number,\n    default: Number.MAX_SAFE_INTEGER,\n  },\n  step: {\n    type: Number,\n    default: 1,\n  },\n  precision: {\n    type: Number as PropType<number | null>,\n    default: 0,\n  },\n  minFractionDigits: {\n    type: Number as PropType<number | null>,\n    default: null,\n  },\n  decimalSeparator: {\n    type: String,\n    validator: (v: any) => !v || v.length === 1,\n  },\n\n  ...omit(makeVTextFieldProps(), ['modelValue', 'validationValue']),\n}, 'VNumberInput')\n\nexport const VNumberInput = genericComponent<VNumberInputSlots>()({\n  name: 'VNumberInput',\n\n  props: {\n    ...makeVNumberInputProps(),\n  },\n\n  emits: {\n    'update:focused': (val: boolean) => true,\n    'update:modelValue': (val: number) => true,\n  },\n\n  setup (props, { slots }) {\n    const vTextFieldRef = ref<VTextField>()\n\n    const { holdStart, holdStop } = useHold({ toggleUpDown })\n    const form = useForm(props)\n    const controlsDisabled = computed(() => (\n      form.isDisabled.value || form.isReadonly.value\n    ))\n\n    const isFocused = shallowRef(props.focused)\n\n    const { decimalSeparator: decimalSeparatorFromLocale } = useLocale()\n    const decimalSeparator = computed(() => props.decimalSeparator?.[0] || decimalSeparatorFromLocale.value)\n\n    function correctPrecision (val: number, precision = props.precision, trim = true) {\n      const fixed = precision == null\n        ? String(val)\n        : val.toFixed(precision)\n\n      if (isFocused.value && trim) {\n        return Number(fixed).toString() // trim zeros\n          .replace('.', decimalSeparator.value)\n      }\n\n      if (props.minFractionDigits === null || (precision !== null && precision < props.minFractionDigits)) {\n        return fixed.replace('.', decimalSeparator.value)\n      }\n\n      let [baseDigits, fractionDigits] = fixed.split('.')\n\n      fractionDigits = (fractionDigits ?? '').padEnd(props.minFractionDigits, '0')\n        .replace(new RegExp(`(?<=\\\\d{${props.minFractionDigits}})0+$`, 'g'), '')\n\n      return [\n        baseDigits,\n        fractionDigits,\n      ].filter(Boolean).join(decimalSeparator.value)\n    }\n\n    const model = useProxiedModel(props, 'modelValue', null,\n      val => val ?? null,\n      val => val == null\n        ? val ?? null\n        : clamp(Number(val), props.min, props.max)\n    )\n\n    const _inputText = shallowRef<string | null>(null)\n    const _lastParsedValue = shallowRef<number | null>(null)\n\n    watch(model, val => {\n      if (\n        isFocused.value &&\n          !controlsDisabled.value &&\n          Number(_inputText.value?.replace(decimalSeparator.value, '.')) === val\n      ) {\n        // ignore external changes while typing\n        // e.g. 5.01{backspace}2 Â» should result in 5.02\n        //      but we emit '5' in and want to preserve '5.0'\n      } else if (val == null) {\n        _inputText.value = null\n        _lastParsedValue.value = null\n      } else if (!isNaN(val)) {\n        _inputText.value = correctPrecision(val)\n        _lastParsedValue.value = Number(_inputText.value.replace(decimalSeparator.value, '.'))\n      }\n    }, { immediate: true })\n\n    const inputText = computed<string | null>({\n      get: () => _inputText.value,\n      set (val) {\n        if (val === null || val === '') {\n          model.value = null\n          _inputText.value = null\n          _lastParsedValue.value = null\n          return\n        }\n        const parsedValue = Number(val.replace(decimalSeparator.value, '.'))\n        if (!isNaN(parsedValue)) {\n          _inputText.value = val\n          _lastParsedValue.value = parsedValue\n\n          if (parsedValue <= props.max && parsedValue >= props.min) {\n            model.value = parsedValue\n          }\n        }\n      },\n    })\n\n    const isOutOfRange = computed(() => {\n      if (_lastParsedValue.value === null) return false\n      const numberFromText = Number(_inputText.value?.replace(decimalSeparator.value, '.'))\n      return numberFromText !== clamp(numberFromText, props.min, props.max)\n    })\n\n    const canIncrease = computed(() => {\n      if (controlsDisabled.value) return false\n      return (model.value ?? 0) as number + props.step <= props.max\n    })\n    const canDecrease = computed(() => {\n      if (controlsDisabled.value) return false\n      return (model.value ?? 0) as number - props.step >= props.min\n    })\n\n    const controlVariant = computed(() => {\n      return props.hideInput ? 'stacked' : props.controlVariant\n    })\n\n    const incrementIcon = toRef(() => controlVariant.value === 'split' ? '$plus' : '$collapse')\n    const decrementIcon = toRef(() => controlVariant.value === 'split' ? '$minus' : '$expand')\n    const controlNodeSize = toRef(() => controlVariant.value === 'split' ? 'default' : 'small')\n    const controlNodeDefaultHeight = toRef(() => controlVariant.value === 'stacked' ? 'auto' : '100%')\n\n    const incrementSlotProps = {\n      props: {\n        onClick: onControlClick,\n        onPointerup: onControlMouseup,\n        onPointerdown: onUpControlMousedown,\n        onPointercancel: onControlMouseup,\n      },\n    }\n    const decrementSlotProps = {\n      props: {\n        onClick: onControlClick,\n        onPointerup: onControlMouseup,\n        onPointerdown: onDownControlMousedown,\n        onPointercancel: onControlMouseup,\n      },\n    }\n\n    watch(() => props.precision, () => formatInputValue())\n    watch(() => props.minFractionDigits, () => formatInputValue())\n\n    onMounted(() => {\n      clampModel()\n    })\n\n    function inferPrecision (value: number | null) {\n      if (value == null) return 0\n      const str = value.toString()\n      const idx = str.indexOf('.')\n      return ~idx ? str.length - idx : 0\n    }\n\n    function toggleUpDown (increment = true) {\n      if (controlsDisabled.value) return\n      if (model.value == null) {\n        inputText.value = correctPrecision(clamp(0, props.min, props.max))\n        return\n      }\n\n      let inferredPrecision = Math.max(inferPrecision(model.value), inferPrecision(props.step))\n      if (props.precision != null) inferredPrecision = Math.max(inferredPrecision, props.precision)\n      if (increment) {\n        if (canIncrease.value) inputText.value = correctPrecision(model.value + props.step, inferredPrecision)\n      } else {\n        if (canDecrease.value) inputText.value = correctPrecision(model.value - props.step, inferredPrecision)\n      }\n    }\n\n    function onBeforeinput (e: InputEvent) {\n      if (!e.data) return\n      const inputElement = e.target as HTMLInputElement\n      const { value: existingTxt, selectionStart, selectionEnd } = inputElement ?? {}\n\n      const potentialNewInputVal =\n        existingTxt\n          ? existingTxt.slice(0, selectionStart as number | undefined) + e.data + existingTxt.slice(selectionEnd as number | undefined)\n          : e.data\n\n      const potentialNewNumber = extractNumber(potentialNewInputVal, props.precision, decimalSeparator.value)\n\n      // Allow only numbers, \"-\" and {decimal separator}\n      // Allow \"-\" and {decimal separator} only once\n      // Allow \"-\" only at the start\n      if (!new RegExp(`^-?\\\\d*${escapeForRegex(decimalSeparator.value)}?\\\\d*$`).test(potentialNewInputVal)) {\n        e.preventDefault()\n        inputElement!.value = potentialNewNumber\n        nextTick(() => inputText.value = potentialNewNumber)\n      }\n\n      if (props.precision == null) return\n\n      // Ignore decimal digits above precision limit\n      if (potentialNewInputVal.split(decimalSeparator.value)[1]?.length > props.precision) {\n        e.preventDefault()\n        inputElement!.value = potentialNewNumber\n        nextTick(() => inputText.value = potentialNewNumber)\n\n        const cursorPosition = (selectionStart ?? 0) + e.data.length\n        inputElement!.setSelectionRange(cursorPosition, cursorPosition)\n      }\n      // Ignore decimal separator when precision = 0\n      if (props.precision === 0 && potentialNewInputVal.endsWith(decimalSeparator.value)) {\n        e.preventDefault()\n        inputElement!.value = potentialNewNumber\n        nextTick(() => inputText.value = potentialNewNumber)\n      }\n    }\n\n    async function onKeydown (e: KeyboardEvent) {\n      if (\n        ['Enter', 'ArrowLeft', 'ArrowRight', 'Backspace', 'Delete', 'Tab'].includes(e.key) ||\n        e.ctrlKey\n      ) return\n\n      if (['ArrowDown', 'ArrowUp'].includes(e.key)) {\n        e.preventDefault()\n        e.stopPropagation()\n        clampModel()\n        // _model is controlled, so need to wait until props['modelValue'] is updated\n        await nextTick()\n        if (e.key === 'ArrowDown') {\n          toggleUpDown(false)\n        } else {\n          toggleUpDown()\n        }\n      }\n    }\n\n    function onControlClick (e: MouseEvent) {\n      e.stopPropagation()\n    }\n\n    function onControlMouseup (e: PointerEvent) {\n      const el = e.currentTarget as HTMLElement\n      el?.releasePointerCapture(e.pointerId)\n      e.preventDefault()\n      holdStop()\n    }\n\n    function onUpControlMousedown (e: PointerEvent) {\n      const el = e.currentTarget as HTMLElement\n      el?.setPointerCapture(e.pointerId)\n      e.preventDefault()\n      e.stopPropagation()\n      holdStart('up')\n    }\n\n    function onDownControlMousedown (e: PointerEvent) {\n      const el = e.currentTarget as HTMLElement\n      el?.setPointerCapture(e.pointerId)\n      e.preventDefault()\n      e.stopPropagation()\n      holdStart('down')\n    }\n\n    function clampModel () {\n      if (controlsDisabled.value) return\n      if (!vTextFieldRef.value) return\n      const actualText = vTextFieldRef.value.value\n      const parsedValue = Number(actualText.replace(decimalSeparator.value, '.'))\n      if (actualText && !isNaN(parsedValue)) {\n        inputText.value = correctPrecision(clamp(parsedValue, props.min, props.max))\n      } else {\n        inputText.value = null\n      }\n    }\n\n    function formatInputValue () {\n      if (controlsDisabled.value) return\n      inputText.value = model.value !== null && !isNaN(model.value)\n        ? correctPrecision(model.value, props.precision, false)\n        : null\n    }\n\n    function trimDecimalZeros () {\n      if (controlsDisabled.value) return\n      if (model.value === null || isNaN(model.value)) {\n        inputText.value = null\n        return\n      }\n      inputText.value = model.value.toString()\n        .replace('.', decimalSeparator.value)\n    }\n\n    function onFocus () {\n      trimDecimalZeros()\n    }\n\n    function onBlur () {\n      clampModel()\n    }\n\n    useRender(() => {\n      const { modelValue: _, type, ...textFieldProps } = VTextField.filterProps(props)\n\n      function incrementControlNode () {\n        return !slots.increment ? (\n          <VBtn\n            aria-hidden=\"true\"\n            data-testid=\"increment\"\n            disabled={ !canIncrease.value }\n            height={ controlNodeDefaultHeight.value }\n            icon={ incrementIcon.value }\n            key=\"increment-btn\"\n            onClick={ onControlClick }\n            onPointerdown={ onUpControlMousedown }\n            onPointerup={ onControlMouseup }\n            onPointercancel={ onControlMouseup }\n            size={ controlNodeSize.value }\n            variant=\"text\"\n            tabindex=\"-1\"\n          />\n        ) : (\n          <VDefaultsProvider\n            key=\"increment-defaults\"\n            defaults={{\n              VBtn: {\n                disabled: !canIncrease.value,\n                height: controlNodeDefaultHeight.value,\n                size: controlNodeSize.value,\n                icon: incrementIcon.value,\n                variant: 'text',\n              },\n            }}\n          >\n            { slots.increment(incrementSlotProps) }\n          </VDefaultsProvider>\n        )\n      }\n\n      function decrementControlNode () {\n        return !slots.decrement ? (\n          <VBtn\n            aria-hidden=\"true\"\n            data-testid=\"decrement\"\n            disabled={ !canDecrease.value }\n            height={ controlNodeDefaultHeight.value }\n            icon={ decrementIcon.value }\n            key=\"decrement-btn\"\n            onClick={ onControlClick }\n            onPointerdown={ onDownControlMousedown }\n            onPointerup={ onControlMouseup }\n            onPointercancel={ onControlMouseup }\n            size={ controlNodeSize.value }\n            variant=\"text\"\n            tabindex=\"-1\"\n          />\n        ) : (\n          <VDefaultsProvider\n            key=\"decrement-defaults\"\n            defaults={{\n              VBtn: {\n                disabled: !canDecrease.value,\n                height: controlNodeDefaultHeight.value,\n                size: controlNodeSize.value,\n                icon: decrementIcon.value,\n                variant: 'text',\n              },\n            }}\n          >\n            { slots.decrement(decrementSlotProps) }\n          </VDefaultsProvider>\n        )\n      }\n\n      function controlNode () {\n        return (\n          <div class=\"v-number-input__control\">\n            { decrementControlNode() }\n\n            <VDivider\n              vertical={ controlVariant.value !== 'stacked' }\n            />\n\n            { incrementControlNode() }\n          </div>\n        )\n      }\n\n      function dividerNode () {\n        return !props.hideInput && !props.inset ? <VDivider vertical /> : undefined\n      }\n\n      const appendInnerControl =\n        controlVariant.value === 'split'\n          ? (\n            <div class=\"v-number-input__control\">\n              <VDivider vertical />\n\n              { incrementControlNode() }\n            </div>\n          ) : (props.reverse || controlVariant.value === 'hidden'\n            ? undefined\n            : <>{ dividerNode() }{ controlNode() }</>)\n\n      const hasAppendInner = slots['append-inner'] || appendInnerControl\n\n      const prependInnerControl =\n        controlVariant.value === 'split'\n          ? (\n            <div class=\"v-number-input__control\">\n              { decrementControlNode() }\n\n              <VDivider vertical />\n            </div>\n          ) : (props.reverse && controlVariant.value !== 'hidden'\n            ? <>{ controlNode() }{ dividerNode() }</>\n            : undefined)\n\n      const hasPrependInner = slots['prepend-inner'] || prependInnerControl\n\n      return (\n        <VTextField\n          ref={ vTextFieldRef }\n          { ...textFieldProps }\n          v-model={ inputText.value }\n          v-model:focused={ isFocused.value }\n          validationValue={ model.value }\n          error={ props.error || isOutOfRange.value || undefined }\n          onBeforeinput={ onBeforeinput }\n          onFocus={ onFocus }\n          onBlur={ onBlur }\n          onKeydown={ onKeydown }\n          class={[\n            'v-number-input',\n            {\n              'v-number-input--default': controlVariant.value === 'default',\n              'v-number-input--hide-input': props.hideInput,\n              'v-number-input--inset': props.inset,\n              'v-number-input--reverse': props.reverse,\n              'v-number-input--split': controlVariant.value === 'split',\n              'v-number-input--stacked': controlVariant.value === 'stacked',\n            },\n            props.class,\n          ]}\n          style={ props.style }\n          inputmode=\"decimal\"\n        >\n          {{\n            ...slots,\n            'append-inner': hasAppendInner ? (...args) => (\n              <>\n                { slots['append-inner']?.(...args) }\n                { appendInnerControl }\n              </>\n            ) : undefined,\n            'prepend-inner': hasPrependInner ? (...args) => (\n              <>\n                { prependInnerControl }\n                { slots['prepend-inner']?.(...args) }\n              </>\n            ) : undefined,\n          }}\n        </VTextField>\n      )\n    })\n\n    return forwardRefs({}, vTextFieldRef)\n  },\n})\n\nexport type VNumberInput = InstanceType<typeof VNumberInput>\n"],"mappings":"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","ignoreList":[]}