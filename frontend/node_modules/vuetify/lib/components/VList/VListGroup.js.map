{"version":3,"file":"VListGroup.js","names":["VExpandTransition","VDefaultsProvider","useList","makeComponentProps","IconValue","useNestedGroupActivator","useNestedItem","VNestedSymbol","useSsrBoot","makeTagProps","MaybeTransition","computed","inject","toRef","defineComponent","genericComponent","propsFactory","useRender","VListGroupActivator","name","setup","_","_ref","slots","default","makeVListGroupProps","activeColor","String","baseColor","color","collapseIcon","type","disabled","Boolean","expandIcon","rawId","Number","prependIcon","appendIcon","fluid","subgroup","title","value","VListGroup","props","_ref2","isOpen","open","id","_id","list","isBooted","parent","renderWhenClosed","root","itemsRegistration","onClick","e","includes","target","tagName","activatorProps","class","toggleIcon","activatorDefaults","VListItem","_createVNode","tag","_normalizeClass","hasPrepend","_normalizeStyle","style","activator","component","_withDirectives","_createElementVNode","_vShow"],"sources":["../../../src/components/VList/VListGroup.tsx"],"sourcesContent":["// Components\nimport { VExpandTransition } from '@/components/transitions'\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\n\n// Composables\nimport { useList } from './list'\nimport { makeComponentProps } from '@/composables/component'\nimport { IconValue } from '@/composables/icons'\nimport { useNestedGroupActivator, useNestedItem, VNestedSymbol } from '@/composables/nested/nested'\nimport { useSsrBoot } from '@/composables/ssrBoot'\nimport { makeTagProps } from '@/composables/tag'\nimport { MaybeTransition } from '@/composables/transition'\n\n// Utilities\nimport { computed, inject, toRef } from 'vue'\nimport { defineComponent, genericComponent, propsFactory, useRender } from '@/util'\n\nexport type VListGroupSlots = {\n  default: never\n  activator: { isOpen: boolean, props: Record<string, unknown> }\n}\n\nconst VListGroupActivator = defineComponent({\n  name: 'VListGroupActivator',\n\n  setup (_, { slots }) {\n    useNestedGroupActivator()\n\n    return () => slots.default?.()\n  },\n})\n\nexport const makeVListGroupProps = propsFactory({\n  /* @deprecated */\n  activeColor: String,\n  baseColor: String,\n  color: String,\n  collapseIcon: {\n    type: IconValue,\n    default: '$collapse',\n  },\n  disabled: Boolean,\n  expandIcon: {\n    type: IconValue,\n    default: '$expand',\n  },\n  rawId: [String, Number],\n  prependIcon: IconValue,\n  appendIcon: IconValue,\n  fluid: Boolean,\n  subgroup: Boolean,\n  title: String,\n  value: null,\n\n  ...makeComponentProps(),\n  ...makeTagProps(),\n}, 'VListGroup')\n\nexport const VListGroup = genericComponent<VListGroupSlots>()({\n  name: 'VListGroup',\n\n  props: makeVListGroupProps(),\n\n  setup (props, { slots }) {\n    const { isOpen, open, id: _id } = useNestedItem(() => props.value, () => props.disabled, true)\n    const id = computed(() => `v-list-group--id-${String(props.rawId ?? _id.value)}`)\n    const list = useList()\n    const { isBooted } = useSsrBoot()\n\n    const parent = inject(VNestedSymbol)\n    const renderWhenClosed = toRef(() => parent?.root?.itemsRegistration.value === 'render')\n\n    function onClick (e: Event) {\n      if (['INPUT', 'TEXTAREA'].includes((e.target as Element)?.tagName)) return\n      open(!isOpen.value, e)\n    }\n\n    const activatorProps = computed(() => ({\n      onClick,\n      class: 'v-list-group__header',\n      id: id.value,\n    }))\n\n    const toggleIcon = computed(() => isOpen.value ? props.collapseIcon : props.expandIcon)\n    const activatorDefaults = computed(() => ({\n      VListItem: {\n        activeColor: props.activeColor,\n        baseColor: props.baseColor,\n        color: props.color,\n        prependIcon: props.prependIcon || (props.subgroup && toggleIcon.value),\n        appendIcon: props.appendIcon || (!props.subgroup && toggleIcon.value),\n        title: props.title,\n        value: props.value,\n      },\n    }))\n\n    useRender(() => (\n      <props.tag\n        class={[\n          'v-list-group',\n          {\n            'v-list-group--prepend': list?.hasPrepend.value,\n            'v-list-group--fluid': props.fluid,\n            'v-list-group--subgroup': props.subgroup,\n            'v-list-group--open': isOpen.value,\n          },\n          props.class,\n        ]}\n        style={ props.style }\n      >\n        { slots.activator && (\n          <VDefaultsProvider defaults={ activatorDefaults.value }>\n            <VListGroupActivator>\n              { slots.activator({ props: activatorProps.value, isOpen: isOpen.value }) }\n            </VListGroupActivator>\n          </VDefaultsProvider>\n        )}\n\n        <MaybeTransition transition={{ component: VExpandTransition }} disabled={ !isBooted.value }>\n          { renderWhenClosed.value\n            ? (\n            <div class=\"v-list-group__items\" role=\"group\" aria-labelledby={ id.value } v-show={ isOpen.value }>\n              { slots.default?.() }\n            </div>\n            ) : isOpen.value && (\n            <div class=\"v-list-group__items\" role=\"group\" aria-labelledby={ id.value }>\n              { slots.default?.() }\n            </div>\n            )}\n        </MaybeTransition>\n      </props.tag>\n    ))\n\n    return {\n      isOpen,\n    }\n  },\n})\n\nexport type VListGroup = InstanceType<typeof VListGroup>\n"],"mappings":"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","ignoreList":[]}