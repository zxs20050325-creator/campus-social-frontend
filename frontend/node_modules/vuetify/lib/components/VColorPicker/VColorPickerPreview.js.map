{"version":3,"file":"VColorPickerPreview.js","names":["VBtn","VSlider","makeComponentProps","IconValue","useLocale","onUnmounted","nullColor","defineComponent","HSVtoCSS","parseColor","propsFactory","RGBtoHSV","SUPPORTS_EYE_DROPPER","useRender","makeVColorPickerPreviewProps","color","type","Object","disabled","Boolean","hideAlpha","hideEyeDropper","eyeDropperIcon","default","VColorPickerPreview","name","props","emits","setup","_ref","emit","t","abortController","AbortController","abort","openEyeDropper","eyeDropper","window","EyeDropper","result","open","signal","colorHexValue","sRGBHex","e","_createElementVNode","_normalizeClass","class","_normalizeStyle","style","_createVNode","background","h","a"],"sources":["../../../src/components/VColorPicker/VColorPickerPreview.tsx"],"sourcesContent":["// Styles\nimport './VColorPickerPreview.sass'\n\n// Components\nimport { VBtn } from '@/components/VBtn'\nimport { VSlider } from '@/components/VSlider'\n\n// Composables\nimport { makeComponentProps } from '@/composables/component'\nimport { IconValue } from '@/composables/icons'\nimport { useLocale } from '@/composables/locale'\n\n// Utilities\nimport { onUnmounted } from 'vue'\nimport { nullColor } from './util'\nimport {\n  defineComponent,\n  HSVtoCSS,\n  parseColor,\n  propsFactory,\n  RGBtoHSV,\n  SUPPORTS_EYE_DROPPER,\n  useRender,\n} from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { HSV } from '@/util'\n\nexport const makeVColorPickerPreviewProps = propsFactory({\n  color: {\n    type: Object as PropType<HSV | null>,\n  },\n  disabled: Boolean,\n  hideAlpha: Boolean,\n  hideEyeDropper: Boolean,\n  eyeDropperIcon: {\n    type: IconValue,\n    default: '$eyeDropper',\n  },\n\n  ...makeComponentProps(),\n}, 'VColorPickerPreview')\n\nexport const VColorPickerPreview = defineComponent({\n  name: 'VColorPickerPreview',\n\n  props: makeVColorPickerPreviewProps(),\n\n  emits: {\n    'update:color': (color: HSV) => true,\n  },\n\n  setup (props, { emit }) {\n    const { t } = useLocale()\n\n    const abortController = new AbortController()\n\n    onUnmounted(() => abortController.abort())\n\n    async function openEyeDropper () {\n      if (!SUPPORTS_EYE_DROPPER || props.disabled) return\n\n      const eyeDropper = new window.EyeDropper()\n      try {\n        const result = await eyeDropper.open({ signal: abortController.signal })\n        const colorHexValue = RGBtoHSV(parseColor(result.sRGBHex))\n        emit('update:color', { ...(props.color ?? nullColor), ...colorHexValue })\n      } catch (e) {}\n    }\n\n    useRender(() => (\n      <div\n        class={[\n          'v-color-picker-preview',\n          {\n            'v-color-picker-preview--hide-alpha': props.hideAlpha,\n          },\n          props.class,\n        ]}\n        style={ props.style }\n      >\n        { SUPPORTS_EYE_DROPPER && !props.hideEyeDropper && (\n          <div class=\"v-color-picker-preview__eye-dropper\" key=\"eyeDropper\">\n            <VBtn\n              aria-label={ t('$vuetify.colorPicker.ariaLabel.eyedropper') }\n              density=\"comfortable\"\n              disabled={ props.disabled }\n              icon={ props.eyeDropperIcon }\n              variant=\"plain\"\n              onClick={ openEyeDropper }\n            />\n          </div>\n        )}\n\n        <div class=\"v-color-picker-preview__dot\">\n          <div style={{ background: HSVtoCSS(props.color ?? nullColor) }} />\n        </div>\n\n        <div class=\"v-color-picker-preview__sliders\">\n          <VSlider\n            class=\"v-color-picker-preview__track v-color-picker-preview__hue\"\n            aria-label={ t('$vuetify.colorPicker.ariaLabel.hueSlider') }\n            modelValue={ props.color?.h }\n            onUpdate:modelValue={ h => emit('update:color', { ...(props.color ?? nullColor), h }) }\n            step={ 1 }\n            min={ 0 }\n            max={ 360 }\n            disabled={ props.disabled }\n            thumbSize={ 14 }\n            trackSize={ 8 }\n            trackFillColor=\"white\"\n            hideDetails\n          />\n\n          { !props.hideAlpha && (\n            <VSlider\n              class=\"v-color-picker-preview__track v-color-picker-preview__alpha\"\n              aria-label={ t('$vuetify.colorPicker.ariaLabel.alphaSlider') }\n              modelValue={ props.color?.a ?? 1 }\n              onUpdate:modelValue={ a => emit('update:color', { ...(props.color ?? nullColor), a }) }\n              step={ 0.01 }\n              min={ 0 }\n              max={ 1 }\n              disabled={ props.disabled }\n              thumbSize={ 14 }\n              trackSize={ 8 }\n              trackFillColor=\"white\"\n              hideDetails\n            />\n          )}\n        </div>\n      </div>\n    ))\n\n    return {}\n  },\n})\n\nexport type VColorPickerPreview = InstanceType<typeof VColorPickerPreview>\n"],"mappings":";AAAA;AACA;;AAEA;AAAA,SACSA,IAAI;AAAA,SACJC,OAAO,+BAEhB;AAAA,SACSC,kBAAkB;AAAA,SAClBC,SAAS;AAAA,SACTC,SAAS,uCAElB;AACA,SAASC,WAAW,QAAQ,KAAK;AAAA,SACxBC,SAAS;AAAA,SAEhBC,eAAe,EACfC,QAAQ,EACRC,UAAU,EACVC,YAAY,EACZC,QAAQ,EACRC,oBAAoB,EACpBC,SAAS,+BAGX;AAIA,OAAO,MAAMC,4BAA4B,GAAGJ,YAAY,CAAC;EACvDK,KAAK,EAAE;IACLC,IAAI,EAAEC;EACR,CAAC;EACDC,QAAQ,EAAEC,OAAO;EACjBC,SAAS,EAAED,OAAO;EAClBE,cAAc,EAAEF,OAAO;EACvBG,cAAc,EAAE;IACdN,IAAI,EAAEb,SAAS;IACfoB,OAAO,EAAE;EACX,CAAC;EAED,GAAGrB,kBAAkB,CAAC;AACxB,CAAC,EAAE,qBAAqB,CAAC;AAEzB,OAAO,MAAMsB,mBAAmB,GAAGjB,eAAe,CAAC;EACjDkB,IAAI,EAAE,qBAAqB;EAE3BC,KAAK,EAAEZ,4BAA4B,CAAC,CAAC;EAErCa,KAAK,EAAE;IACL,cAAc,EAAGZ,KAAU,IAAK;EAClC,CAAC;EAEDa,KAAKA,CAAEF,KAAK,EAAAG,IAAA,EAAY;IAAA,IAAV;MAAEC;IAAK,CAAC,GAAAD,IAAA;IACpB,MAAM;MAAEE;IAAE,CAAC,GAAG3B,SAAS,CAAC,CAAC;IAEzB,MAAM4B,eAAe,GAAG,IAAIC,eAAe,CAAC,CAAC;IAE7C5B,WAAW,CAAC,MAAM2B,eAAe,CAACE,KAAK,CAAC,CAAC,CAAC;IAE1C,eAAeC,cAAcA,CAAA,EAAI;MAC/B,IAAI,CAACvB,oBAAoB,IAAIc,KAAK,CAACR,QAAQ,EAAE;MAE7C,MAAMkB,UAAU,GAAG,IAAIC,MAAM,CAACC,UAAU,CAAC,CAAC;MAC1C,IAAI;QACF,MAAMC,MAAM,GAAG,MAAMH,UAAU,CAACI,IAAI,CAAC;UAAEC,MAAM,EAAET,eAAe,CAACS;QAAO,CAAC,CAAC;QACxE,MAAMC,aAAa,GAAG/B,QAAQ,CAACF,UAAU,CAAC8B,MAAM,CAACI,OAAO,CAAC,CAAC;QAC1Db,IAAI,CAAC,cAAc,EAAE;UAAE,IAAIJ,KAAK,CAACX,KAAK,IAAIT,SAAS,CAAC;UAAE,GAAGoC;QAAc,CAAC,CAAC;MAC3E,CAAC,CAAC,OAAOE,CAAC,EAAE,CAAC;IACf;IAEA/B,SAAS,CAAC,MAAAgC,mBAAA;MAAA,SAAAC,eAAA,CAEC,CACL,wBAAwB,EACxB;QACE,oCAAoC,EAAEpB,KAAK,CAACN;MAC9C,CAAC,EACDM,KAAK,CAACqB,KAAK,CACZ;MAAA,SAAAC,eAAA,CACOtB,KAAK,CAACuB,KAAK;IAAA,IAEjBrC,oBAAoB,IAAI,CAACc,KAAK,CAACL,cAAc,IAAAwB,mBAAA;MAAA;MAAA;IAAA,IAAAK,YAAA,CAAAlD,IAAA;MAAA,cAG5B+B,CAAC,CAAC,2CAA2C,CAAC;MAAA;MAAA,YAEhDL,KAAK,CAACR,QAAQ;MAAA,QAClBQ,KAAK,CAACJ,cAAc;MAAA;MAAA,WAEjBa;IAAc,UAG7B,EAAAU,mBAAA;MAAA;IAAA,IAAAA,mBAAA;MAAA,SAGa;QAAEM,UAAU,EAAE3C,QAAQ,CAACkB,KAAK,CAACX,KAAK,IAAIT,SAAS;MAAE;IAAC,YAAAuC,mBAAA;MAAA;IAAA,IAAAK,YAAA,CAAAjD,OAAA;MAAA;MAAA,cAM/C8B,CAAC,CAAC,0CAA0C,CAAC;MAAA,cAC7CL,KAAK,CAACX,KAAK,EAAEqC,CAAC;MAAA,uBACLA,CAAC,IAAItB,IAAI,CAAC,cAAc,EAAE;QAAE,IAAIJ,KAAK,CAACX,KAAK,IAAIT,SAAS,CAAC;QAAE8C;MAAE,CAAC,CAAC;MAAA,QAC9E,CAAC;MAAA,OACF,CAAC;MAAA,OACD,GAAG;MAAA,YACE1B,KAAK,CAACR,QAAQ;MAAA,aACb,EAAE;MAAA,aACF,CAAC;MAAA;MAAA;IAAA,UAKb,CAACQ,KAAK,CAACN,SAAS,IAAA8B,YAAA,CAAAjD,OAAA;MAAA;MAAA,cAGD8B,CAAC,CAAC,4CAA4C,CAAC;MAAA,cAC/CL,KAAK,CAACX,KAAK,EAAEsC,CAAC,IAAI,CAAC;MAAA,uBACVA,CAAC,IAAIvB,IAAI,CAAC,cAAc,EAAE;QAAE,IAAIJ,KAAK,CAACX,KAAK,IAAIT,SAAS,CAAC;QAAE+C;MAAE,CAAC,CAAC;MAAA,QAC9E,IAAI;MAAA,OACL,CAAC;MAAA,OACD,CAAC;MAAA,YACI3B,KAAK,CAACR,QAAQ;MAAA,aACb,EAAE;MAAA,aACF,CAAC;MAAA;MAAA;IAAA,QAIhB,IAGN,CAAC;IAEF,OAAO,CAAC,CAAC;EACX;AACF,CAAC,CAAC","ignoreList":[]}