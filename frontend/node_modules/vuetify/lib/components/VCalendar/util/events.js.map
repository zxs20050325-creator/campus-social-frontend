{"version":3,"file":"events.js","names":["copyTimestamp","getDayIdentifier","getTimestampIdentifier","isTimedless","nextMinutes","parseTimestamp","updateHasTime","parseEvent","input","index","startProperty","endProperty","timed","arguments","length","undefined","category","startInput","endInput","startParsed","endParsed","start","end","startIdentifier","startTimestampIdentifier","endIdentifier","endOffset","hasTime","endTimestampIdentifier","allDay","isEventOn","event","dayIdentifier","isEventOnDay","day","inRange","dayStart","dayEnd","starts","ends","isEventHiddenOn","time","date","isEventStart","firstWeekday","weekday","isEventOverlapping"],"sources":["../../../../src/components/VCalendar/util/events.ts"],"sourcesContent":["import {\n  copyTimestamp,\n  getDayIdentifier,\n  getTimestampIdentifier,\n  isTimedless,\n  nextMinutes,\n  parseTimestamp,\n  updateHasTime,\n} from './timestamp'\n\n// Types\nimport type { CalendarEvent, CalendarEventParsed, CalendarTimestamp } from '../types'\n\nexport function parseEvent (\n  input: CalendarEvent,\n  index: number,\n  startProperty: string,\n  endProperty: string,\n  timed = false,\n  category: string | false = false,\n): CalendarEventParsed {\n  const startInput = input[startProperty]\n  const endInput = input[endProperty]\n  const startParsed: CalendarTimestamp = parseTimestamp(startInput, true)\n  const endParsed: CalendarTimestamp = (endInput ? parseTimestamp(endInput, true) : startParsed)\n  const start: CalendarTimestamp = isTimedless(startInput)\n    ? updateHasTime(startParsed, timed)\n    : startParsed\n  const end: CalendarTimestamp = isTimedless(endInput)\n    ? updateHasTime(endParsed, timed)\n    : endParsed\n  const startIdentifier: number = getDayIdentifier(start)\n  const startTimestampIdentifier: number = getTimestampIdentifier(start)\n  const endIdentifier: number = getDayIdentifier(end)\n  const endOffset: number = start.hasTime ? 0 : 2359\n  const endTimestampIdentifier: number = getTimestampIdentifier(end) + endOffset\n  const allDay = !start.hasTime\n\n  return { input, start, startIdentifier, startTimestampIdentifier, end, endIdentifier, endTimestampIdentifier, allDay, index, category }\n}\n\nexport function isEventOn (event: CalendarEventParsed, dayIdentifier: number): boolean {\n  return dayIdentifier >= event.startIdentifier && dayIdentifier <= event.endIdentifier\n}\n\nexport function isEventOnDay (\n  event: CalendarEventParsed,\n  day: CalendarTimestamp,\n  inRange?: [number, number]\n): boolean {\n  if (inRange) {\n    const dayStart = nextMinutes(copyTimestamp(day), inRange[0])\n    const dayEnd = nextMinutes(copyTimestamp(day), inRange[1])\n\n    const starts = event.startTimestampIdentifier < getTimestampIdentifier(dayEnd)\n    const ends = event.endTimestampIdentifier > getTimestampIdentifier(dayStart)\n\n    return starts && ends\n  }\n\n  return isEventOn(event, getDayIdentifier(day))\n}\n\nexport function isEventHiddenOn (event: CalendarEventParsed, day: CalendarTimestamp): boolean {\n  return event.end.time === '00:00' && event.end.date === day.date && event.start.date !== day.date\n}\n\nexport function isEventStart (\n  event: CalendarEventParsed,\n  day: CalendarTimestamp,\n  dayIdentifier: number,\n  firstWeekday: number\n): boolean {\n  return dayIdentifier === event.startIdentifier || (firstWeekday === day.weekday && isEventOn(event, dayIdentifier))\n}\n\nexport function isEventOverlapping (\n  event: CalendarEventParsed,\n  startIdentifier: number,\n  endIdentifier: number\n): boolean {\n  return startIdentifier <= event.endIdentifier && endIdentifier >= event.startIdentifier\n}\n"],"mappings":"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","ignoreList":[]}