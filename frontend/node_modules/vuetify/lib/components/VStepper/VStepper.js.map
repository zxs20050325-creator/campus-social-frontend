{"version":3,"file":"VStepper.js","names":["VStepperSymbol","makeVStepperActionsProps","VStepperActions","VStepperHeader","VStepperItem","VStepperWindow","VStepperWindowItem","VDivider","makeVSheetProps","VSheet","provideDefaults","makeDisplayProps","useDisplay","makeGroupProps","useGroup","IconValue","computed","toRefs","genericComponent","getPropertyFromItem","pick","propsFactory","useRender","makeStepperProps","altLabels","Boolean","bgColor","String","completeIcon","editIcon","editable","errorIcon","hideActions","items","type","Array","default","itemTitle","Function","itemValue","itemProps","nonLinear","flat","makeVStepperProps","mandatory","selectedClass","VStepper","name","props","emits","v","setup","_ref","slots","_items","next","prev","selected","displayClasses","mobile","color","prevText","nextText","map","item","index","title","value","_props","raw","activeIndex","findIndex","includes","id","disabled","length","sheetProps","filterProps","hasHeader","header","hasWindow","hasActions","actions","_createVNode","_mergeProps","class","style","_ref2","_createElementVNode","_Fragment","icon","subtitle"],"sources":["../../../src/components/VStepper/VStepper.tsx"],"sourcesContent":["// Styles\nimport './VStepper.sass'\n\n// Components\nimport { VStepperSymbol } from './shared'\nimport { makeVStepperActionsProps, VStepperActions } from './VStepperActions'\nimport { VStepperHeader } from './VStepperHeader'\nimport { VStepperItem } from './VStepperItem'\nimport { VStepperWindow } from './VStepperWindow'\nimport { VStepperWindowItem } from './VStepperWindowItem'\nimport { VDivider } from '@/components/VDivider'\nimport { makeVSheetProps, VSheet } from '@/components/VSheet/VSheet'\n\n// Composables\nimport { provideDefaults } from '@/composables/defaults'\nimport { makeDisplayProps, useDisplay } from '@/composables/display'\nimport { makeGroupProps, useGroup } from '@/composables/group'\nimport { IconValue } from '@/composables/icons'\n\n// Utilities\nimport { computed, toRefs } from 'vue'\nimport { genericComponent, getPropertyFromItem, pick, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { StepperItem, StepperItemSlot } from './VStepperItem'\nimport type { GenericProps, SelectItemKey } from '@/util'\n\nexport type VStepperSlot = {\n  prev: () => void\n  next: () => void\n}\n\nexport type VStepperSlots = {\n  actions: VStepperSlot\n  default: VStepperSlot\n  header: StepperItem\n  'header-item': StepperItemSlot\n  icon: StepperItemSlot\n  title: StepperItemSlot\n  subtitle: StepperItemSlot\n  item: StepperItem\n  prev: never\n  next: never\n} & {\n  [key: `header-item.${string}`]: StepperItemSlot\n  [key: `item.${string}`]: StepperItem\n}\n\nexport const makeStepperProps = propsFactory({\n  altLabels: Boolean,\n  bgColor: String,\n  completeIcon: IconValue,\n  editIcon: IconValue,\n  editable: Boolean,\n  errorIcon: IconValue,\n  hideActions: Boolean,\n  items: {\n    type: Array as PropType<readonly StepperItem[]>,\n    default: () => ([]),\n  },\n  itemTitle: {\n    type: [String, Array, Function] as PropType<SelectItemKey>,\n    default: 'title',\n  },\n  itemValue: {\n    type: [String, Array, Function] as PropType<SelectItemKey>,\n    default: 'value',\n  },\n  itemProps: {\n    type: [Boolean, String, Array, Function] as PropType<SelectItemKey>,\n    default: 'props',\n  },\n  nonLinear: Boolean,\n  flat: Boolean,\n\n  ...makeDisplayProps(),\n}, 'Stepper')\n\nexport const makeVStepperProps = propsFactory({\n  ...makeStepperProps(),\n  ...makeGroupProps({\n    mandatory: 'force' as const,\n    selectedClass: 'v-stepper-item--selected',\n  }),\n  ...makeVSheetProps(),\n  ...pick(makeVStepperActionsProps(), ['prevText', 'nextText']),\n}, 'VStepper')\n\nexport const VStepper = genericComponent<new <TModel>(\n  props: {\n    modelValue?: TModel\n    'onUpdate:modelValue'?: (value: TModel) => void\n  },\n  slots: VStepperSlots\n) => GenericProps<typeof props, typeof slots>>()({\n  name: 'VStepper',\n\n  props: makeVStepperProps(),\n\n  emits: {\n    'update:modelValue': (v: unknown) => true,\n  },\n\n  setup (props, { slots }) {\n    const { items: _items, next, prev, selected } = useGroup(props, VStepperSymbol)\n    const { displayClasses, mobile } = useDisplay(props)\n    const { completeIcon, editIcon, errorIcon, color, editable, prevText, nextText } = toRefs(props)\n\n    const items = computed(() => props.items.map((item, index) => {\n      const title = getPropertyFromItem(item, props.itemTitle, item)\n      const value = getPropertyFromItem(item, props.itemValue, index + 1)\n      const itemProps = props.itemProps === true\n        ? item\n        : getPropertyFromItem(item, props.itemProps)\n\n      const _props = {\n        title,\n        value,\n        ...itemProps,\n      }\n\n      return {\n        title: _props.title,\n        value: _props.value,\n        props: _props,\n        raw: item,\n      }\n    }))\n    const activeIndex = computed(() => {\n      return _items.value.findIndex(item => selected.value.includes(item.id))\n    })\n    const disabled = computed(() => {\n      if (props.disabled) return props.disabled\n      if (activeIndex.value === 0) return 'prev'\n      if (activeIndex.value === _items.value.length - 1) return 'next'\n\n      return false\n    })\n\n    provideDefaults({\n      VStepperItem: {\n        editable,\n        errorIcon,\n        completeIcon,\n        editIcon,\n        prevText,\n        nextText,\n      },\n      VStepperActions: {\n        color,\n        disabled,\n        prevText,\n        nextText,\n      },\n    })\n\n    useRender(() => {\n      const sheetProps = VSheet.filterProps(props)\n\n      const hasHeader = !!(slots.header || props.items.length)\n      const hasWindow = props.items.length > 0\n      const hasActions = !props.hideActions && !!(hasWindow || slots.actions)\n\n      return (\n        <VSheet\n          { ...sheetProps }\n          color={ props.bgColor }\n          class={[\n            'v-stepper',\n            {\n              'v-stepper--alt-labels': props.altLabels,\n              'v-stepper--flat': props.flat,\n              'v-stepper--non-linear': props.nonLinear,\n              'v-stepper--mobile': mobile.value,\n            },\n            displayClasses.value,\n            props.class,\n          ]}\n          style={ props.style }\n        >\n          { hasHeader && (\n            <VStepperHeader key=\"stepper-header\">\n              { items.value.map(({ raw, ...item }, index) => (\n                <>\n                  { !!index && (<VDivider />) }\n\n                  <VStepperItem\n                    { ...item.props }\n                    v-slots={{\n                      default: slots[`header-item.${item.value}`] ?? slots.header,\n                      icon: slots.icon,\n                      title: slots.title,\n                      subtitle: slots.subtitle,\n                    }}\n                  />\n                </>\n              ))}\n            </VStepperHeader>\n          )}\n\n          { hasWindow && (\n            <VStepperWindow key=\"stepper-window\">\n              { items.value.map(item => (\n                <VStepperWindowItem\n                  value={ item.value }\n                  v-slots={{\n                    default: () => slots[`item.${item.value}`]?.(item) ?? slots.item?.(item),\n                  }}\n                />\n              ))}\n            </VStepperWindow>\n          )}\n\n          { slots.default?.({ prev, next }) }\n\n          { hasActions && (\n            slots.actions?.({ next, prev }) ?? (\n              <VStepperActions\n                key=\"stepper-actions\"\n                onClick:prev={ prev }\n                onClick:next={ next }\n                v-slots={ slots }\n              />\n            )\n          )}\n        </VSheet>\n      )\n    })\n\n    return {\n      prev,\n      next,\n    }\n  },\n})\n\nexport type VStepper = InstanceType<typeof VStepper>\n"],"mappings":"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","ignoreList":[]}