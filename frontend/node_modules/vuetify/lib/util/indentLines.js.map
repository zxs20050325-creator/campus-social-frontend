{"version":3,"file":"indentLines.js","names":["getIndentLines","_ref","depth","isLast","isLastGroup","leafLinks","separateRoots","parentIndentLines","variant","isLastLeaf","leaf","undefined","node","children","footer"],"sources":["../../src/util/indentLines.ts"],"sourcesContent":["// Types\nexport type IndentLinesVariant = 'default' | 'simple'\nexport type IndentLineType = 'leaf' | 'last-leaf' | 'line' | 'leaf-link' | 'none'\n\nexport type IndentLinesOptions = {\n  depth: number\n  isLast: boolean\n  isLastGroup: boolean\n  leafLinks: boolean\n  separateRoots: boolean\n  parentIndentLines: IndentLineType[] | undefined\n  variant: IndentLinesVariant | undefined\n}\n\nexport type IndentLines = {\n  leaf: IndentLineType[] | undefined\n  node: IndentLineType[] | undefined\n  children: IndentLineType[] | undefined\n  footer: IndentLineType[] | undefined\n}\n\nexport function getIndentLines ({\n  depth,\n  isLast,\n  isLastGroup,\n  leafLinks,\n  separateRoots,\n  parentIndentLines,\n  variant,\n}: IndentLinesOptions): IndentLines {\n  const isLastLeaf = isLast && (!isLastGroup || separateRoots || depth > 1)\n\n  if (!parentIndentLines || !depth) {\n    return {\n      leaf: undefined,\n      node: undefined,\n      children: parentIndentLines,\n      footer: parentIndentLines && (!isLastLeaf || variant === 'simple')\n        ? [...parentIndentLines, separateRoots ? 'none' : 'line']\n        : ['none'],\n    }\n  }\n\n  if (variant === 'simple') {\n    return {\n      leaf: [...parentIndentLines, 'line'],\n      node: [...parentIndentLines, 'line'],\n      children: [...parentIndentLines, 'line'],\n      footer: [...parentIndentLines, 'line', 'line'],\n    }\n  }\n\n  return {\n    leaf: [\n      ...parentIndentLines,\n      isLastLeaf ? 'last-leaf' : 'leaf',\n      ...leafLinks ? ['leaf-link'] as IndentLineType[] : [],\n    ],\n    node: [\n      ...parentIndentLines,\n      isLastLeaf ? 'last-leaf' : 'leaf',\n    ],\n    children: [\n      ...parentIndentLines,\n      isLastLeaf ? 'none' : 'line',\n    ],\n    footer: [\n      ...parentIndentLines,\n      isLastLeaf ? 'none' : 'line',\n    ],\n  }\n}\n"],"mappings":"AAAA;;AAqBA,OAAO,SAASA,cAAcA,CAAAC,IAAA,EAQM;EAAA,IARJ;IAC9BC,KAAK;IACLC,MAAM;IACNC,WAAW;IACXC,SAAS;IACTC,aAAa;IACbC,iBAAiB;IACjBC;EACkB,CAAC,GAAAP,IAAA;EACnB,MAAMQ,UAAU,GAAGN,MAAM,KAAK,CAACC,WAAW,IAAIE,aAAa,IAAIJ,KAAK,GAAG,CAAC,CAAC;EAEzE,IAAI,CAACK,iBAAiB,IAAI,CAACL,KAAK,EAAE;IAChC,OAAO;MACLQ,IAAI,EAAEC,SAAS;MACfC,IAAI,EAAED,SAAS;MACfE,QAAQ,EAAEN,iBAAiB;MAC3BO,MAAM,EAAEP,iBAAiB,KAAK,CAACE,UAAU,IAAID,OAAO,KAAK,QAAQ,CAAC,GAC9D,CAAC,GAAGD,iBAAiB,EAAED,aAAa,GAAG,MAAM,GAAG,MAAM,CAAC,GACvD,CAAC,MAAM;IACb,CAAC;EACH;EAEA,IAAIE,OAAO,KAAK,QAAQ,EAAE;IACxB,OAAO;MACLE,IAAI,EAAE,CAAC,GAAGH,iBAAiB,EAAE,MAAM,CAAC;MACpCK,IAAI,EAAE,CAAC,GAAGL,iBAAiB,EAAE,MAAM,CAAC;MACpCM,QAAQ,EAAE,CAAC,GAAGN,iBAAiB,EAAE,MAAM,CAAC;MACxCO,MAAM,EAAE,CAAC,GAAGP,iBAAiB,EAAE,MAAM,EAAE,MAAM;IAC/C,CAAC;EACH;EAEA,OAAO;IACLG,IAAI,EAAE,CACJ,GAAGH,iBAAiB,EACpBE,UAAU,GAAG,WAAW,GAAG,MAAM,EACjC,IAAGJ,SAAS,GAAG,CAAC,WAAW,CAAC,GAAuB,EAAE,EACtD;IACDO,IAAI,EAAE,CACJ,GAAGL,iBAAiB,EACpBE,UAAU,GAAG,WAAW,GAAG,MAAM,CAClC;IACDI,QAAQ,EAAE,CACR,GAAGN,iBAAiB,EACpBE,UAAU,GAAG,MAAM,GAAG,MAAM,CAC7B;IACDK,MAAM,EAAE,CACN,GAAGP,iBAAiB,EACpBE,UAAU,GAAG,MAAM,GAAG,MAAM;EAEhC,CAAC;AACH","ignoreList":[]}