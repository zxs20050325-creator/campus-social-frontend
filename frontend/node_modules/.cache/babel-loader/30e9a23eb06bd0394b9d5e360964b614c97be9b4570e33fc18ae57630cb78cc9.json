{"ast":null,"code":"export default {\n  name: 'PostView',\n  data() {\n    return {\n      posting: false,\n      postForm: {\n        title: '',\n        content: '',\n        images: [],\n        visibility: 'public'\n      },\n      visibilityOptions: [{\n        text: '公开',\n        value: 'public'\n      }, {\n        text: '仅关注的人',\n        value: 'followers'\n      }, {\n        text: '仅自己',\n        value: 'private'\n      }]\n    };\n  },\n  methods: {\n    async submitPost() {\n      if (!this.postForm.title || !this.postForm.content) {\n        alert('请填写标题和内容');\n        return;\n      }\n      this.posting = true;\n\n      // 模拟API请求\n      await new Promise(resolve => setTimeout(resolve, 1500));\n\n      // 这里应该是实际的API调用\n      console.log('提交动态:', this.postForm);\n\n      // 提交成功后返回首页\n      this.$router.push('/');\n      this.posting = false;\n    }\n  }\n};","map":{"version":3,"names":["name","data","posting","postForm","title","content","images","visibility","visibilityOptions","text","value","methods","submitPost","alert","Promise","resolve","setTimeout","console","log","$router","push"],"sources":["C:\\Users\\xueru\\Desktop\\my-project\\frontend\\src\\views\\Post.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-row justify=\"center\">\n      <v-col cols=\"12\" md=\"8\">\n        <v-card class=\"pa-6\">\n          <h2 class=\"mb-6 text-center\">发布新动态</h2>\n          \n          <v-form @submit.prevent=\"submitPost\">\n            <v-text-field\n              v-model=\"postForm.title\"\n              label=\"标题\"\n              variant=\"outlined\"\n              required\n              class=\"mb-4\"\n            ></v-text-field>\n            \n            <v-textarea\n              v-model=\"postForm.content\"\n              label=\"内容\"\n              variant=\"outlined\"\n              auto-grow\n              rows=\"5\"\n              required\n              class=\"mb-4\"\n            ></v-textarea>\n            \n            <v-file-input\n              v-model=\"postForm.images\"\n              label=\"上传图片\"\n              multiple\n              prepend-icon=\"mdi-camera\"\n              variant=\"outlined\"\n              class=\"mb-4\"\n            ></v-file-input>\n            \n            <v-select\n              v-model=\"postForm.visibility\"\n              :items=\"visibilityOptions\"\n              label=\"可见性\"\n              variant=\"outlined\"\n              class=\"mb-4\"\n            ></v-select>\n            \n            <div class=\"d-flex justify-end\">\n              <v-btn \n                color=\"secondary\" \n                @click=\"$router.go(-1)\" \n                class=\"mr-4\"\n              >\n                取消\n              </v-btn>\n              <v-btn \n                type=\"submit\"\n                color=\"primary\" \n                :loading=\"posting\"\n                :disabled=\"!postForm.title || !postForm.content\"\n              >\n                发布动态\n              </v-btn>\n            </div>\n          </v-form>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  name: 'PostView',\n  data() {\n    return {\n      posting: false,\n      postForm: {\n        title: '',\n        content: '',\n        images: [],\n        visibility: 'public'\n      },\n      visibilityOptions: [\n        { text: '公开', value: 'public' },\n        { text: '仅关注的人', value: 'followers' },\n        { text: '仅自己', value: 'private' }\n      ]\n    };\n  },\n  methods: {\n    async submitPost() {\n      if (!this.postForm.title || !this.postForm.content) {\n        alert('请填写标题和内容');\n        return;\n      }\n\n      this.posting = true;\n\n      // 模拟API请求\n      await new Promise(resolve => setTimeout(resolve, 1500));\n\n      // 这里应该是实际的API调用\n      console.log('提交动态:', this.postForm);\n\n      // 提交成功后返回首页\n      this.$router.push('/');\n      \n      this.posting = false;\n    }\n  }\n};\n</script>"],"mappings":"AAoEA,eAAe;EACbA,IAAI,EAAE,UAAU;EAChBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE,KAAK;MACdC,QAAQ,EAAE;QACRC,KAAK,EAAE,EAAE;QACTC,OAAO,EAAE,EAAE;QACXC,MAAM,EAAE,EAAE;QACVC,UAAU,EAAE;MACd,CAAC;MACDC,iBAAiB,EAAE,CACjB;QAAEC,IAAI,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAS,CAAC,EAC/B;QAAED,IAAI,EAAE,OAAO;QAAEC,KAAK,EAAE;MAAY,CAAC,EACrC;QAAED,IAAI,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAU;IAEpC,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,UAAUA,CAAA,EAAG;MACjB,IAAI,CAAC,IAAI,CAACT,QAAQ,CAACC,KAAI,IAAK,CAAC,IAAI,CAACD,QAAQ,CAACE,OAAO,EAAE;QAClDQ,KAAK,CAAC,UAAU,CAAC;QACjB;MACF;MAEA,IAAI,CAACX,OAAM,GAAI,IAAI;;MAEnB;MACA,MAAM,IAAIY,OAAO,CAACC,OAAM,IAAKC,UAAU,CAACD,OAAO,EAAE,IAAI,CAAC,CAAC;;MAEvD;MACAE,OAAO,CAACC,GAAG,CAAC,OAAO,EAAE,IAAI,CAACf,QAAQ,CAAC;;MAEnC;MACA,IAAI,CAACgB,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;MAEtB,IAAI,CAAClB,OAAM,GAAI,KAAK;IACtB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}