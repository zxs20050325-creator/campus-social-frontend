{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"text-h6\"\n};\nconst _hoisted_2 = {\n  class: \"text-subtitle-1 grey--text\"\n};\nconst _hoisted_3 = {\n  class: \"mb-2\"\n};\nconst _hoisted_4 = {\n  class: \"mb-2\"\n};\nconst _hoisted_5 = {\n  class: \"mb-2\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"text-center py-8\"\n};\nconst _hoisted_7 = {\n  key: 1\n};\nconst _hoisted_8 = {\n  class: \"ml-1\"\n};\nconst _hoisted_9 = {\n  class: \"ml-1\"\n};\nconst _hoisted_10 = {\n  key: 0,\n  class: \"text-center py-8\"\n};\nconst _hoisted_11 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_img = _resolveComponent(\"v-img\");\n  const _component_v_avatar = _resolveComponent(\"v-avatar\");\n  const _component_v_divider = _resolveComponent(\"v-divider\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_card_subtitle = _resolveComponent(\"v-card-subtitle\");\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  const _component_v_spacer = _resolveComponent(\"v-spacer\");\n  const _component_v_data_table = _resolveComponent(\"v-data-table\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_textarea = _resolveComponent(\"v-textarea\");\n  const _component_v_file_input = _resolveComponent(\"v-file-input\");\n  const _component_v_form = _resolveComponent(\"v-form\");\n  const _component_v_dialog = _resolveComponent(\"v-dialog\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, null, {\n    default: _withCtx(() => [_createVNode(_component_v_row, null, {\n      default: _withCtx(() => [_createVNode(_component_v_col, {\n        cols: \"12\",\n        md: \"4\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_card, null, {\n          default: _withCtx(() => [_createVNode(_component_v_card_title, {\n            class: \"headline\"\n          }, {\n            default: _withCtx(() => [...(_cache[7] || (_cache[7] = [_createTextVNode(\"个人信息\", -1 /* CACHED */)]))]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_v_card_text, null, {\n            default: _withCtx(() => [_createVNode(_component_v_avatar, {\n              size: \"100\",\n              class: \"mb-4\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_img, {\n                src: $data.user.avatar,\n                alt: \"Avatar\"\n              }, null, 8 /* PROPS */, [\"src\"])]),\n              _: 1 /* STABLE */\n            }), _createElementVNode(\"div\", _hoisted_1, _toDisplayString($data.user.name), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_2, _toDisplayString($data.user.email), 1 /* TEXT */), _createVNode(_component_v_divider, {\n              class: \"my-4\"\n            }), _createElementVNode(\"div\", _hoisted_3, [_cache[8] || (_cache[8] = _createElementVNode(\"strong\", null, \"用户名:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($data.user.username), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_4, [_cache[9] || (_cache[9] = _createElementVNode(\"strong\", null, \"简介:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($data.user.bio || '暂无简介'), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_5, [_cache[10] || (_cache[10] = _createElementVNode(\"strong\", null, \"注册时间:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($options.formatDate($data.user.created_at)), 1 /* TEXT */)])]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_v_card_actions, null, {\n            default: _withCtx(() => [_createVNode(_component_v_btn, {\n              color: \"primary\",\n              block: \"\",\n              onClick: _cache[0] || (_cache[0] = $event => $data.editProfileDialog = true)\n            }, {\n              default: _withCtx(() => [...(_cache[11] || (_cache[11] = [_createTextVNode(\"编辑资料\", -1 /* CACHED */)]))]),\n              _: 1 /* STABLE */\n            })]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_col, {\n        cols: \"12\",\n        md: \"8\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_card, null, {\n          default: _withCtx(() => [_createVNode(_component_v_card_title, {\n            class: \"headline\"\n          }, {\n            default: _withCtx(() => [...(_cache[12] || (_cache[12] = [_createTextVNode(\"我的动态\", -1 /* CACHED */)]))]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_v_card_text, null, {\n            default: _withCtx(() => [$data.userPosts.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_cache[14] || (_cache[14] = _createElementVNode(\"p\", {\n              class: \"text-h6\"\n            }, \"还没有发布任何动态\", -1 /* CACHED */)), _createVNode(_component_v_btn, {\n              color: \"primary\",\n              to: \"/post\",\n              class: \"mt-4\"\n            }, {\n              default: _withCtx(() => [...(_cache[13] || (_cache[13] = [_createTextVNode(\"发布第一篇动态\", -1 /* CACHED */)]))]),\n              _: 1 /* STABLE */\n            })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.userPosts, post => {\n              return _openBlock(), _createElementBlock(\"div\", {\n                key: post.id,\n                class: \"mb-4\"\n              }, [_createVNode(_component_v_card, {\n                outlined: \"\"\n              }, {\n                default: _withCtx(() => [_createVNode(_component_v_card_title, null, {\n                  default: _withCtx(() => [_createTextVNode(_toDisplayString(post.title), 1 /* TEXT */)]),\n                  _: 2 /* DYNAMIC */\n                }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_v_card_subtitle, null, {\n                  default: _withCtx(() => [_createTextVNode(_toDisplayString($options.formatDate(post.created_at)), 1 /* TEXT */)]),\n                  _: 2 /* DYNAMIC */\n                }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_v_card_text, null, {\n                  default: _withCtx(() => [_createTextVNode(_toDisplayString(post.content), 1 /* TEXT */)]),\n                  _: 2 /* DYNAMIC */\n                }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_v_card_actions, null, {\n                  default: _withCtx(() => [_createVNode(_component_v_btn, {\n                    variant: \"text\",\n                    onClick: $event => $options.toggleLike(post)\n                  }, {\n                    default: _withCtx(() => [_createVNode(_component_v_icon, {\n                      color: post.liked ? 'red' : ''\n                    }, {\n                      default: _withCtx(() => [_createTextVNode(_toDisplayString(post.liked ? 'mdi-heart' : 'mdi-heart-outline'), 1 /* TEXT */)]),\n                      _: 2 /* DYNAMIC */\n                    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"color\"]), _createElementVNode(\"span\", _hoisted_8, _toDisplayString(post.likes_count), 1 /* TEXT */)]),\n                    _: 2 /* DYNAMIC */\n                  }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_v_btn, {\n                    variant: \"text\"\n                  }, {\n                    default: _withCtx(() => [_createVNode(_component_v_icon, null, {\n                      default: _withCtx(() => [...(_cache[15] || (_cache[15] = [_createTextVNode(\"mdi-comment-outline\", -1 /* CACHED */)]))]),\n                      _: 1 /* STABLE */\n                    }), _createElementVNode(\"span\", _hoisted_9, _toDisplayString(post.comments_count), 1 /* TEXT */)]),\n                    _: 2 /* DYNAMIC */\n                  }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n                    variant: \"text\",\n                    onClick: $event => $options.deletePost(post.id)\n                  }, {\n                    default: _withCtx(() => [_createVNode(_component_v_icon, {\n                      color: \"error\"\n                    }, {\n                      default: _withCtx(() => [...(_cache[16] || (_cache[16] = [_createTextVNode(\"mdi-delete\", -1 /* CACHED */)]))]),\n                      _: 1 /* STABLE */\n                    })]),\n                    _: 1 /* STABLE */\n                  }, 8 /* PROPS */, [\"onClick\"])]),\n                  _: 2 /* DYNAMIC */\n                }, 1024 /* DYNAMIC_SLOTS */)]),\n                _: 2 /* DYNAMIC */\n              }, 1024 /* DYNAMIC_SLOTS */)]);\n            }), 128 /* KEYED_FRAGMENT */))]))]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_card, {\n          class: \"mt-6\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_v_card_title, {\n            class: \"headline\"\n          }, {\n            default: _withCtx(() => [...(_cache[17] || (_cache[17] = [_createTextVNode(\"我的置换物品\", -1 /* CACHED */)]))]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_v_card_text, null, {\n            default: _withCtx(() => [$data.userExchanges.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [_cache[19] || (_cache[19] = _createElementVNode(\"p\", {\n              class: \"text-h6\"\n            }, \"还没有发布任何置换物品\", -1 /* CACHED */)), _createVNode(_component_v_btn, {\n              color: \"primary\",\n              to: \"/exchange\",\n              class: \"mt-4\"\n            }, {\n              default: _withCtx(() => [...(_cache[18] || (_cache[18] = [_createTextVNode(\"发布置换物品\", -1 /* CACHED */)]))]),\n              _: 1 /* STABLE */\n            })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [_createVNode(_component_v_data_table, {\n              headers: $data.exchangeHeaders,\n              items: $data.userExchanges,\n              class: \"elevation-1\"\n            }, {\n              \"item.image_urls\": _withCtx(({\n                item\n              }) => [item.image_urls ? (_openBlock(), _createBlock(_component_v_img, {\n                key: 0,\n                src: item.image_urls.split(',')[0],\n                \"max-height\": \"60\",\n                \"max-width\": \"60\",\n                class: \"rounded\"\n              }, null, 8 /* PROPS */, [\"src\"])) : _createCommentVNode(\"v-if\", true)]),\n              \"item.actions\": _withCtx(({\n                item\n              }) => [_createVNode(_component_v_btn, {\n                icon: \"\",\n                onClick: $event => $options.editExchange(item)\n              }, {\n                default: _withCtx(() => [_createVNode(_component_v_icon, null, {\n                  default: _withCtx(() => [...(_cache[20] || (_cache[20] = [_createTextVNode(\"mdi-pencil\", -1 /* CACHED */)]))]),\n                  _: 1 /* STABLE */\n                })]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_v_btn, {\n                icon: \"\",\n                onClick: $event => $options.deleteExchange(item.id)\n              }, {\n                default: _withCtx(() => [_createVNode(_component_v_icon, {\n                  color: \"error\"\n                }, {\n                  default: _withCtx(() => [...(_cache[21] || (_cache[21] = [_createTextVNode(\"mdi-delete\", -1 /* CACHED */)]))]),\n                  _: 1 /* STABLE */\n                })]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"onClick\"])]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"headers\", \"items\"])]))]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createCommentVNode(\" 编辑资料对话框 \"), _createVNode(_component_v_dialog, {\n      modelValue: $data.editProfileDialog,\n      \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.editProfileDialog = $event),\n      \"max-width\": \"500\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_card, null, {\n        default: _withCtx(() => [_createVNode(_component_v_card_title, null, {\n          default: _withCtx(() => [...(_cache[22] || (_cache[22] = [_createTextVNode(\"编辑资料\", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_card_text, null, {\n          default: _withCtx(() => [_createVNode(_component_v_form, {\n            ref: \"profileForm\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_v_text_field, {\n              modelValue: $data.editedUser.username,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.editedUser.username = $event),\n              label: \"用户名\",\n              variant: \"outlined\",\n              required: \"\"\n            }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_v_text_field, {\n              modelValue: $data.editedUser.name,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.editedUser.name = $event),\n              label: \"姓名\",\n              variant: \"outlined\",\n              required: \"\"\n            }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_v_textarea, {\n              modelValue: $data.editedUser.bio,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.editedUser.bio = $event),\n              label: \"个人简介\",\n              variant: \"outlined\",\n              \"auto-grow\": \"\",\n              rows: \"2\"\n            }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_v_file_input, {\n              modelValue: $data.editedUser.avatarFile,\n              \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.editedUser.avatarFile = $event),\n              label: \"头像\",\n              \"prepend-icon\": \"mdi-camera\",\n              variant: \"outlined\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          }, 512 /* NEED_PATCH */)]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_card_actions, null, {\n          default: _withCtx(() => [_createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n            color: \"secondary\",\n            onClick: _cache[5] || (_cache[5] = $event => $data.editProfileDialog = false)\n          }, {\n            default: _withCtx(() => [...(_cache[23] || (_cache[23] = [_createTextVNode(\"取消\", -1 /* CACHED */)]))]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_v_btn, {\n            color: \"primary\",\n            onClick: $options.saveProfile\n          }, {\n            default: _withCtx(() => [...(_cache[24] || (_cache[24] = [_createTextVNode(\"保存\", -1 /* CACHED */)]))]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"onClick\"])]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\"])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","_component_v_container","_createVNode","_component_v_row","_component_v_col","cols","md","_component_v_card","_component_v_card_title","_cache","_component_v_card_text","_component_v_avatar","size","_component_v_img","src","$data","user","avatar","alt","_createElementVNode","_hoisted_1","_toDisplayString","name","_hoisted_2","email","_component_v_divider","_hoisted_3","username","_hoisted_4","bio","_hoisted_5","$options","formatDate","created_at","_component_v_card_actions","_component_v_btn","color","block","onClick","$event","editProfileDialog","userPosts","length","_createElementBlock","_hoisted_6","to","_hoisted_7","_Fragment","_renderList","post","key","id","outlined","title","_component_v_card_subtitle","content","variant","toggleLike","_component_v_icon","liked","_hoisted_8","likes_count","_hoisted_9","comments_count","_component_v_spacer","deletePost","userExchanges","_hoisted_10","_hoisted_11","_component_v_data_table","headers","exchangeHeaders","items","_withCtx","item","image_urls","split","icon","editExchange","deleteExchange","_createCommentVNode","_component_v_dialog","_component_v_form","ref","_component_v_text_field","editedUser","label","required","_component_v_textarea","rows","_component_v_file_input","avatarFile","saveProfile"],"sources":["C:\\Users\\xueru\\Desktop\\my-project\\frontend\\src\\views\\Profile.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-row>\n      <v-col cols=\"12\" md=\"4\">\n        <v-card>\n          <v-card-title class=\"headline\">个人信息</v-card-title>\n          \n          <v-card-text>\n            <v-avatar size=\"100\" class=\"mb-4\">\n              <v-img :src=\"user.avatar\" alt=\"Avatar\"></v-img>\n            </v-avatar>\n            \n            <div class=\"text-h6\">{{ user.name }}</div>\n            <div class=\"text-subtitle-1 grey--text\">{{ user.email }}</div>\n            \n            <v-divider class=\"my-4\"></v-divider>\n            \n            <div class=\"mb-2\">\n              <strong>用户名:</strong> {{ user.username }}\n            </div>\n            <div class=\"mb-2\">\n              <strong>简介:</strong> {{ user.bio || '暂无简介' }}\n            </div>\n            <div class=\"mb-2\">\n              <strong>注册时间:</strong> {{ formatDate(user.created_at) }}\n            </div>\n          </v-card-text>\n          \n          <v-card-actions>\n            <v-btn color=\"primary\" block @click=\"editProfileDialog = true\">编辑资料</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-col>\n      \n      <v-col cols=\"12\" md=\"8\">\n        <v-card>\n          <v-card-title class=\"headline\">我的动态</v-card-title>\n          \n          <v-card-text>\n            <div v-if=\"userPosts.length === 0\" class=\"text-center py-8\">\n              <p class=\"text-h6\">还没有发布任何动态</p>\n              <v-btn color=\"primary\" to=\"/post\" class=\"mt-4\">发布第一篇动态</v-btn>\n            </div>\n            \n            <div v-else>\n              <div v-for=\"post in userPosts\" :key=\"post.id\" class=\"mb-4\">\n                <v-card outlined>\n                  <v-card-title>{{ post.title }}</v-card-title>\n                  <v-card-subtitle>{{ formatDate(post.created_at) }}</v-card-subtitle>\n                  <v-card-text>{{ post.content }}</v-card-text>\n                  \n                  <v-card-actions>\n                    <v-btn variant=\"text\" @click=\"toggleLike(post)\">\n                      <v-icon :color=\"post.liked ? 'red' : ''\">\n                        {{ post.liked ? 'mdi-heart' : 'mdi-heart-outline' }}\n                      </v-icon>\n                      <span class=\"ml-1\">{{ post.likes_count }}</span>\n                    </v-btn>\n                    \n                    <v-btn variant=\"text\">\n                      <v-icon>mdi-comment-outline</v-icon>\n                      <span class=\"ml-1\">{{ post.comments_count }}</span>\n                    </v-btn>\n                    \n                    <v-spacer></v-spacer>\n                    \n                    <v-btn variant=\"text\" @click=\"deletePost(post.id)\">\n                      <v-icon color=\"error\">mdi-delete</v-icon>\n                    </v-btn>\n                  </v-card-actions>\n                </v-card>\n              </div>\n            </div>\n          </v-card-text>\n        </v-card>\n        \n        <v-card class=\"mt-6\">\n          <v-card-title class=\"headline\">我的置换物品</v-card-title>\n          \n          <v-card-text>\n            <div v-if=\"userExchanges.length === 0\" class=\"text-center py-8\">\n              <p class=\"text-h6\">还没有发布任何置换物品</p>\n              <v-btn color=\"primary\" to=\"/exchange\" class=\"mt-4\">发布置换物品</v-btn>\n            </div>\n            \n            <div v-else>\n              <v-data-table\n                :headers=\"exchangeHeaders\"\n                :items=\"userExchanges\"\n                class=\"elevation-1\"\n              >\n                <template v-slot:item.image_urls=\"{ item }\">\n                  <v-img \n                    v-if=\"item.image_urls\" \n                    :src=\"item.image_urls.split(',')[0]\" \n                    max-height=\"60\" \n                    max-width=\"60\" \n                    class=\"rounded\"\n                  ></v-img>\n                </template>\n                <template v-slot:item.actions=\"{ item }\">\n                  <v-btn icon @click=\"editExchange(item)\">\n                    <v-icon>mdi-pencil</v-icon>\n                  </v-btn>\n                  <v-btn icon @click=\"deleteExchange(item.id)\">\n                    <v-icon color=\"error\">mdi-delete</v-icon>\n                  </v-btn>\n                </template>\n              </v-data-table>\n            </div>\n          </v-card-text>\n        </v-card>\n      </v-col>\n    </v-row>\n    \n    <!-- 编辑资料对话框 -->\n    <v-dialog v-model=\"editProfileDialog\" max-width=\"500\">\n      <v-card>\n        <v-card-title>编辑资料</v-card-title>\n        \n        <v-card-text>\n          <v-form ref=\"profileForm\">\n            <v-text-field\n              v-model=\"editedUser.username\"\n              label=\"用户名\"\n              variant=\"outlined\"\n              required\n            ></v-text-field>\n            \n            <v-text-field\n              v-model=\"editedUser.name\"\n              label=\"姓名\"\n              variant=\"outlined\"\n              required\n            ></v-text-field>\n            \n            <v-textarea\n              v-model=\"editedUser.bio\"\n              label=\"个人简介\"\n              variant=\"outlined\"\n              auto-grow\n              rows=\"2\"\n            ></v-textarea>\n            \n            <v-file-input\n              v-model=\"editedUser.avatarFile\"\n              label=\"头像\"\n              prepend-icon=\"mdi-camera\"\n              variant=\"outlined\"\n            ></v-file-input>\n          </v-form>\n        </v-card-text>\n        \n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"secondary\" @click=\"editProfileDialog = false\">取消</v-btn>\n          <v-btn color=\"primary\" @click=\"saveProfile\">保存</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  name: 'ProfileView',\n  data() {\n    return {\n      editProfileDialog: false,\n      user: {\n        id: 1,\n        name: '当前用户',\n        username: 'current_user',\n        email: 'user@example.com',\n        bio: '这是一个个人简介示例',\n        avatar: 'https://cdn.vuetifyjs.com/images/john.jpg',\n        created_at: '2023-01-15T10:30:00Z'\n      },\n      editedUser: {\n        username: '',\n        name: '',\n        bio: '',\n        avatarFile: null\n      },\n      userPosts: [\n        {\n          id: 1,\n          title: '我的大学生活',\n          content: '今天是开学第一天，认识了很多新朋友，期待这学期的精彩生活！',\n          created_at: '2023-09-01T10:30:00Z',\n          likes_count: 12,\n          comments_count: 5,\n          liked: false\n        },\n        {\n          id: 2,\n          title: '推荐一本好书',\n          content: '最近读了《百年孤独》，马尔克斯的魔幻现实主义真的很棒，值得推荐给大家。',\n          created_at: '2023-09-10T15:45:00Z',\n          likes_count: 8,\n          comments_count: 3,\n          liked: true\n        }\n      ],\n      userExchanges: [\n        {\n          id: 1,\n          title: '旧教材出售',\n          description: '大一使用的高数、英语等教材，几乎全新',\n          category: '图书教材',\n          condition: '几乎全新',\n          image_urls: 'https://images.unsplash.com/photo-1544947950-fa07a98d237f?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80',\n          created_at: '2023-09-15T10:30:00Z',\n          is_available: true\n        },\n        {\n          id: 2,\n          title: '二手自行车',\n          description: '仅使用了一个学期的山地车，性能良好',\n          category: '交通工具',\n          condition: '良好',\n          image_urls: 'https://images.unsplash.com/photo-1532298229144-0ec0c57515c7?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80',\n          created_at: '2023-09-18T14:20:00Z',\n          is_available: false\n        }\n      ],\n      exchangeHeaders: [\n        { title: '图片', key: 'image_urls', sortable: false },\n        { title: '物品名称', key: 'title' },\n        { title: '类别', key: 'category' },\n        { title: '状态', key: 'condition' },\n        { title: '操作', key: 'actions', sortable: false }\n      ]\n    };\n  },\n  mounted() {\n    this.resetEditUser();\n  },\n  methods: {\n    resetEditUser() {\n      this.editedUser = {\n        username: this.user.username,\n        name: this.user.name,\n        bio: this.user.bio,\n        avatarFile: null\n      };\n    },\n    formatDate(dateString) {\n      const date = new Date(dateString);\n      return date.toLocaleDateString();\n    },\n    toggleLike(post) {\n      post.liked = !post.liked;\n      post.likes_count += post.liked ? 1 : -1;\n    },\n    deletePost(postId) {\n      if (confirm('确定要删除这个动态吗？')) {\n        this.userPosts = this.userPosts.filter(post => post.id !== postId);\n      }\n    },\n    deleteExchange(exchangeId) {\n      if (confirm('确定要删除这个置换物品吗？')) {\n        this.userExchanges = this.userExchanges.filter(ex => ex.id !== exchangeId);\n      }\n    },\n    editExchange(exchange) {\n      console.log('编辑物品:', exchange);\n      // 这里可以打开编辑对话框\n    },\n    saveProfile() {\n      // 更新用户信息\n      this.user.username = this.editedUser.username;\n      this.user.name = this.editedUser.name;\n      this.user.bio = this.editedUser.bio;\n      \n      if (this.editedUser.avatarFile) {\n        // 这里应该是上传头像的逻辑\n        console.log('上传新头像:', this.editedUser.avatarFile);\n      }\n      \n      this.editProfileDialog = false;\n      // 这里应该是实际的API调用\n      console.log('更新用户资料:', this.user);\n    }\n  }\n};\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}